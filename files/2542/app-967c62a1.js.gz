!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},r={},n=function(e,t){return{}.hasOwnProperty.call(e,t)},o=function(e,t){var r,n,o=[];r=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var i=0,s=r.length;s>i;i++)n=r[i],".."===n?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")},i=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t){return function(r){var n=i(t),s=o(n,r);return e.require(s,t)}},a=function(e,t){var n={id:e,exports:{}};return r[e]=n,t(n.exports,s(e),n),n.exports},l=function(e,i){var s=o(e,".");if(null==i&&(i="/"),n(r,s))return r[s].exports;if(n(t,s))return a(s,t[s]);var l=o(s,"./index");if(n(r,l))return r[l].exports;if(n(t,l))return a(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+i+'"')},p=function(e,r){if("object"==typeof e)for(var o in e)n(e,o)&&(t[o]=e[o]);else t[e]=r},c=function(){var e=[];for(var r in t)n(t,r)&&e.push(r);return e};e.require=l,e.require.define=p,e.require.register=p,e.require.list=c,e.require.brunch=!0}}(),require.register("application",function(e,t,r){var n,o,i,s,a,l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/article"),i=t("models/features"),s=t("models/product"),a=t("models/user"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.initMediator=function(){var e;return Swag.registerHelpers(Handlebars),e=Chaplin.mediator,e.product=null,window.APS.product&&(e.product=new s(window.APS.product)),e.features=new i,window.APS.features&&e.features.set(window.APS.features),e.user=null,window.APS.user&&(e.user=new a(window.APS.user),e.publish("user:login",e.user)),e.article=null,window.APS.article&&(e.article=new o(window.APS.article)),e.seal()},t}(Chaplin.Application)}),require.register("controllers/articles-controller",function(e,t,r){"use strict";var n,o,i,s,a,l,p,c,u={}.hasOwnProperty,h=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("controllers/base/controller"),o=t("views/article-page-view"),n=t("views/article/article-cited-by-page-view"),l=t("views/tqc/tqc-menu-view"),c=t("views/tqc/tqc-message-view"),p=t("models/tqc/tqc-message"),a=t("models/tqc/tqc-article"),r.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.abstract=function(){var e,t;return this.view=new o({region:"main"}),this.view.attach(),$("#tqc-menu").length>0?(e=new a({id:Chaplin.mediator.article.get("id").replace("10.1103/","")}),e.fetch().then(function(){return new l({el:$("#tqc-menu"),model:e})}),t=new p({id:Chaplin.mediator.article.get("id").replace("10.1103/","")}),t.fetch().then(function(){return new c({el:$("#tqc-message"),model:t})})):void 0},t.prototype.cited_by=function(){return this.view=new n({region:"main"}),this.view.attach()},t}(s)}),require.register("controllers/base/controller",function(e,t,r){var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("views/site-view"),s=t("views/top-bar-view"),o=t("views/footer-view"),r.exports=n=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return l(r,e),r.prototype.beforeAction=function(){return this.reuse("site",i),this.reuse("top-bar",s),this.reuse("footer",o),this.reuse("auth",function(){var e;return e=t("controllers/session-controller"),this.controller=new e})},r}(Chaplin.Controller)}),require.register("controllers/browse-controller",function(e,t,r){"use strict";var n,o,i,s,a,l,p={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("controllers/base/controller"),o=t("models/search/browse-criteria"),a=t("models/search/results"),i=t("views/browse/browse-page-view"),l=t("lib/services/search"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.serviceProviders={search:new l},t.prototype.searchService=t.serviceProviders.search,t.prototype.recent=function(e){var t,r;return r=new a,t=new o({journal:[e.product],sort:"recent"}),this.view=new i({region:"main",el:$("#body"),model:t,collection:r})},t.prototype.subjects=function(e){var t,r;return r=new a,t=new o({journal:[e.product],sort:"recent"}),this.view=new i({region:"main",el:$("#body"),model:t,collection:r})},t.prototype.highlights=function(e){var t,r;return r=new a,t=new o({journal:[e.product],sort:"recent"}),this.view=new i({region:"main",el:$("#body"),model:t,collection:r})},t.prototype.accepted=function(e){var t,r;return r=new a,t=new o({journal:[e.product],sort:"recent"}),this.view=new i({region:"main",el:$("#body"),model:t,collection:r,resultFormat:"accepted"})},t}(s)}),require.register("controllers/home-controller",function(e,t,r){var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("controllers/base/controller"),i=t("views/home-page-view"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.index=function(){return this.view=new i({region:"main"})},t}(n)}),require.register("controllers/issues-controller",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("controllers/base/controller"),o=t("views/issues/issue-page-view"),r.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.show=function(){return this.view=new o({region:"main"}),this.view.attach()},t}(n)}),require.register("controllers/pages-controller",function(e,t,r){"use strict";var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};n=t("controllers/base/controller"),i=t("models/homepage"),o=t("views/home-page-view"),r.exports=s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.catchAll=function(e){var t;return t=e.page.replace(/\/*$/,""),p.call(i.urlPrefixes,t)>=0&&(this.view=new o({region:"main"})),this},t}(n)}),require.register("controllers/search-controller",function(e,t,r){"use strict";var n,o,i,s,a,l,p=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("controllers/base/controller"),a=t("views/search/search-page-view"),l=t("views/search/search-results-page-view"),i=t("lib/services/search"),n=t("models/search/clause"),r.exports=s=function(e){function t(){return this.index=p(this.index,this),t.__super__.constructor.apply(this,arguments)}return u(t,e),t.serviceProviders={search:new i},t.prototype.searchService=t.serviceProviders.search,t.prototype.index=function(e,t){var r,o,i;return i=e.query||t.query,o=i?deparam(i):e,window.APS.searchResults?(this.view=new l({region:"main",searchService:this.searchService}),r=window.APS.searchResults.criteria,r.clauses&&(r.clauses=_.map(r.clauses,function(e){return new n(e)})),this.searchService.criteria.set(r),this.searchService.fromResponse(window.APS.searchResults)):this.view=new a({region:"main",searchService:this.searchService}),this.view.attach()},t.prototype.edit=function(){return this.view=new a({region:"main",searchService:this.searchService}),this.view.attach()},t}(o)}),require.register("controllers/session-controller",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("controllers/base/controller"),o=t("lib/services/mathjax"),r.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.serviceProviders={mathjax:new o},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),Chaplin.mediator.features.get("enable_mathjax")?t.serviceProviders.mathjax.configure():void 0},t}(n)}),require.register("initialize",function(e,t){var r,n;r=t("application"),n=t("routes"),$(function(){return new r({title:"APS Journals",controllerSuffix:"-controller",routeLinks:!1,hashChange:!1,routes:n})})}),require.register("lib/services/mathjax",function(e,t,r){"use strict";var n,o=function(e,t){return function(){return e.apply(t,arguments)}};r.exports=n=function(){function e(){this.ready=o(this.ready,this),_.extend(this,$.Deferred()),this.subscribeEvent("mathjax:typeset",this.typeset),this.mathjaxReady=!1,this.typesetPending=!1}return _.extend(e.prototype,Chaplin.EventBroker),e.prototype.loading=!1,e.prototype.configure=function(){return MathJax.Hub.Config({showProcessingMessages:!1,extensions:["mml2jax.js"],jax:["input/MathML","output/HTML-CSS"],"HTML-CSS":{preferredFont:"STIX",webfont:"STIX-Web",showMathMenu:!1,scale:81.25,styles:{".MathJax, .mn, .mtext":{"font-family":"arial","font-weight":"inherit","font-style":"inherit"}}}}),MathJax.Hub.Configured(),MathJax.Hub.Register.StartupHook("onLoad",this.ready)},e.prototype.ready=function(){return this.mathjaxReady=!0,this.typesetPending&&this.typeset(),this.publishEvent("mathjax:ready")},e.prototype.typeset=function(){return this.mathjaxReady?(_.debounce(function(){return MathJax.Hub.Queue(["Typeset",MathJax.Hub])},500)(),this.typesetPending=!1):this.typesetPending=!0},e}()}),require.register("lib/services/search",function(e,t,r){var n,o,i,s;n=t("models/search/criteria"),i=t("models/search/results"),o=t("models/search/facets"),r.exports=s=function(){function e(){_.extend(this,$.Deferred()),this.criteria=new n,this.results=new i,this.facets=new o}return _.extend(e.prototype,Chaplin.EventBroker),e.prototype.loading=!1,e.prototype.url="/search",e.prototype.search=function(){return this.doSearch({criteria:this.criteria,results:this.results,facets:this.facets})},e.prototype.fromResponse=function(e){return this.facets.set(e.facets),this.results.page=e.criteria.page,this.results.perPage=e.criteria.per_page,this.results.total=e.num_found,this.results.reset(e.hits),this.publishEvent("search:newResults")},e.prototype.doSearch=function(){return $.ajax({type:"POST",url:this.url,dataType:"json",contentType:"application/json",data:JSON.stringify(this.criteria.toJSON()),success:function(e){return function(t,r,n){return e.fromResponse(t),n.getResponseHeader("link")?null:void 0}}(this),error:function(e,t,r){return"timeout"===t?console.log("Timed out"):console.log("Search Error:",e,t,r)}})},e}()}),require.register("lib/utils",function(e,t,r){var n;n=Chaplin.utils.beget(Chaplin.utils),"function"==typeof Object.seal&&Object.seal(n),r.exports=n}),require.register("lib/view-helper",function(){var e=[].slice;Handlebars.registerHelper("with",function(e,t){return!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(e)}),Handlebars.registerHelper("without",function(e,t){var r;return r=t.inverse,t.inverse=t.fn,t.fn=r,Handlebars.helpers["with"].call(this,e,t)}),Handlebars.registerHelper("url",function(){var t,r,n,o;return n=arguments[0],r=3<=arguments.length?e.call(arguments,1,o=arguments.length-1):(o=1,[]),t=arguments[o++],Chaplin.helpers.reverse(n,r)})}),require.register("models/article",function(e,t,r){var n,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return this.exportUrl=i(this.exportUrl,this),this.baseUrl=i(this.baseUrl,this),this.multimediaUrl=i(this.multimediaUrl,this),this.supplementalUrl=i(this.supplementalUrl,this),this.product=i(this.product,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.product=function(){return Chaplin.mediator.product},t.baseUrl=function(e){return""+t.product().get("urlPrefix")+"article/"+e},t.supplementalUrl=function(e){return""+t.product().get("urlPrefix")+"supplemental/"+e},t.multimediaUrl=function(e){return""+t.product().get("urlPrefix")+"multimedia/"+e},t.exportUrl=function(e,r,n){var o,i;return o=n?"/"+n.toLowerCase()+"/":t.product().get("urlPrefix"),i=""+o+"export/"+e,r&&(i+="?type="+r),i},t.prototype.product=function(){return t.product()},t.prototype.supplementalUrl=function(){return t.supplementalUrl(this.id)},t.prototype.multimediaUrl=function(){return t.multimediaUrl(this.id)},t.prototype.baseUrl=function(){return t.baseUrl(this.id)},t.prototype.exportUrl=function(e){return t.exportUrl(this.id,e)},t}(o)}),require.register("models/article/section",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/model"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){var e;return e=Chaplin.mediator.article.baseUrl()+("/section/"+this.get("name")),this.get("page")&&(e+="?page="+this.get("page")),e},t.prototype.content=function(e){return $.ajax({type:"GET",url:this.url(),success:function(){return function(t){return null!=e.success?e.success(t):void 0}}(this),error:function(t){return function(r,n,o){return null!=e.error?e.error(t,r,n,o):void 0}}(this),complete:function(){return function(){return null!=e.complete?e.complete():void 0}}(this)})},t}(n)}),require.register("models/base/collection",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.model=o,t}(Chaplin.Collection)}),require.register("models/base/model",function(e,t,r){var n,o={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t}(Chaplin.Model)}),require.register("models/features",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(o)}),require.register("models/homepage",function(e,t,r){"use strict";var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.urlPrefixes=["pra","prb","prc","prd","pre","prl","rmp","prstab","prstper","prapplied","archive"],t}(o)}),require.register("models/product",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/model"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(n)}),require.register("models/search/browse-criteria",function(e,t,r){"use strict";var n,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("models/base/model"),o=t("models/search/clause"),r.exports=n=function(e){function t(){return this.clearRestrictions=s(this.clearRestrictions,this),this.setRestrictions=s(this.setRestrictions,this),this.removeRestriction=s(this.removeRestriction,this),this.addRestriction=s(this.addRestriction,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.defaults={type:"article",sort:"relevance"},t.prototype.addRestriction=function(e,t){var r;return r=this.get(e),this.set(e,(r||[]).concat(t))},t.prototype.removeRestriction=function(e,t){return this.set(e,_.without(this.get("restrictions")[e],t))},t.prototype.setRestrictions=function(e,t){return this.set(e,t)},t.prototype.clearRestrictions=function(e){return this.set(e,[])},t.prototype.search=function(e){var t;return e&&(t=e.results),$.ajax({type:"GET",url:window.location.pathname,dataType:"json",data:this.toJSON(),success:function(e){return function(r,n,o){return t&&(t.reset(r.hits),t.page=r.criteria.page,t.perPage=r.criteria.per_page,t.total=r.num_found),o.getResponseHeader("link"),e.publishEvent("search:newResults",r)}}(this),error:function(e,t,r){return"timeout"===t?console.log("Timed out"):console.log("Search Error:",e,t,r)}})},t}(i)}),require.register("models/search/clause",function(e,t,r){var n,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return this.label=i(this.label,this),this.fieldLabel=i(this.fieldLabel,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.operators=[{value:"AND",label:"AND"},{value:"OR",label:"OR"},{value:"NOT",label:"NOT"}],t.fields=[{value:"all",label:"Any Field"},{value:"abstract",label:"Abstract"},{value:"abstitle",label:"Abstract/Title"},{value:"affiliation",label:"Affiliation"},{value:"author",label:"Author"},{value:"refauth",label:"Cited Author"},{value:"collaboration",label:"Collaboration"},{value:"fulltext",label:"Full Text"},{value:"title",label:"Title"},{value:"pacs",label:"PACS"}],t.prototype.defaults={operator:"AND"},t.prototype.fieldLabel=function(){var e;return e=_.find(t.fields,function(e){return function(t){return t.value===e.get("field")}}(this)),e?e.label:null},t.prototype.label=function(){return[this.fieldLabel(),this.get("value")].join(":")},t.prototype.isEmpty=function(){return _.isEmpty(this.get("value"))||this.get("value").match(/^\s+$/)},t}(o)}),require.register("models/search/criteria",function(e,t,r){"use strict";var n,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("models/base/model"),n=t("models/search/clause"),r.exports=o=function(e){function t(){return this.queryWithRestrictions=s(this.queryWithRestrictions,this),this.clearRestrictions=s(this.clearRestrictions,this),this.setRestrictions=s(this.setRestrictions,this),this.removeRestriction=s(this.removeRestriction,this),this.addRestriction=s(this.addRestriction,this),this.hasField=s(this.hasField,this),this.readableQuery=s(this.readableQuery,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.sortOptions=[{label:"Most Recent",value:"recent"},{label:"Most Relevant",value:"relevance"},{label:"Oldest First",value:"oldest"},{label:"Most Cited",value:"most_cited"}],t.dateOptions=[{label:"Any time",value:""},{label:"Past Week",value:"week"},{label:"Past Month",value:"month"},{label:"Past Year",value:"year"},{label:"Custom Range",value:"custom"}],t.prototype.defaults={facets:{fields:["highlight","category","journal","publication_type"]},restrictions:{},type:"article",sort:"relevance"},t.prototype.readableQuery=function(){var e,t,r,n,o;if(r=[],_.isEmpty(this.get("q"))||this.hasField()||r.push(this.get("q")),t=this.nonEmptyClauses())for(n=0,o=t.length;o>n;n++)e=t[n],r.push(e.label());return r.join(", ")},t.prototype.hasField=function(){var e;return e=this.get("field"),!_.isUndefined(e)&&!_.isEmpty(e)&&"all"!==e&&""!==e},t.prototype.addRestriction=function(e,t){var r;return r=this.get("restrictions")[e],this.setRestrictions(e,(r||[]).concat(t))},t.prototype.removeRestriction=function(e,t){return this.setRestrictions(e,_.without(this.get("restrictions")[e],t))},t.prototype.setRestrictions=function(e,t){return this.get("restrictions")[e]=t,this.trigger("change:restrictions",this,this.get("restrictions")),this.trigger("change",this)},t.prototype.clearRestrictions=function(e){return this.setRestrictions(e,[])},t.prototype.queryWithRestrictions=function(){return{sort:this.get("sort"),page:this.get("page"),per_page:this.get("per_page"),q:this.get("q"),c:_.map(this.get("clauses"),function(e){return e.toJSON()}),restrictions:this.get("restrictions")}},t.prototype.isEmpty=function(){return _.isEmpty(this.get("q"))&&this.get("clauses")&&!_.any(this.get("clauses"),function(e){return!e.isEmpty()})},t.prototype.queryString=function(){return $.param(this.queryWithRestrictions())},t.prototype.nonEmptyClauses=function(){return _.select(this.get("clauses"),function(e){return e&&!_.isEmpty(e.get("value"))})},t.prototype.hasQuery=function(){return _.isEmpty(this.get("q"))?_.isEmpty(this.get("clauses"))?!1:_.any(this.get("clauses"),function(e){return!_.isEmpty(e.get("value"))})?!0:!1:!0},t.prototype.search=function(){return $.ajax({type:"POST",url:"/search",dataType:"json",contentType:"application/json",data:JSON.stringify(this.toJSON()),success:function(e){return function(t,r,n){return facets.set(t.facets),results.reset(t.hits),results.page=t.criteria.page,results.perPage=t.criteria.per_page,results.total=t.num_found,n.getResponseHeader("link"),e.publishEvent("search:newResults",t)}}(this),error:function(e,t,r){return"timeout"===t?console.log("Timed out"):console.log("Search Error:",e,t,r)}})},t}(i)}),require.register("models/search/facets",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(o)}),require.register("models/search/result",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/model"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(n)}),require.register("models/search/results",function(e,t,r){var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/collection"),o=t("models/search/result"),r.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=o,t}(n)}),require.register("models/spinner-config",function(e,t,r){var n;r.exports=n=function(){function e(){}return e.prototype.lines=11,e.prototype.length=2,e.prototype.width=2,e.prototype.radius=3,e.prototype.corners=1,e.prototype.rotate=0,e.prototype.direction=1,e.prototype.color="#222222",e.prototype.speed=1,e.prototype.trail=60,e.prototype.shadow=!1,e.prototype.hwaccel=!1,e.prototype.className="spinner",e.prototype.zIndex=2e9,e.prototype.top="auto",e.prototype.left="auto",e}()}),require.register("models/supplemental-material",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/model"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return Chaplin.mediator.article[""+this.type+"Url"]()},t.prototype.initialize=function(e){return this.type=e.type,e},t}(n)}),require.register("models/tqc/tqc-article",function(e,t,r){"use strict";var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/model"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return"/qc/actions?doi="+this.get("id")},t.prototype.doAction=function(e,t){return $.ajax({type:"PUT",url:"/qc/perform_action",data:{doi:this.get("id"),action:e,reason:this.get("reason")},success:function(){return function(e){return null!=t.success?t.success(e):void 0}}(this),error:function(e){return function(r,n,o){return null!=t.error?t.error(e,r,n,o):void 0}}(this),complete:function(){return function(){return null!=t.complete?t.complete():void 0}}(this)})},t}(n)}),require.register("models/tqc/tqc-message",function(e,t,r){"use strict";var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/base/model"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.url=function(){return"/qc/messages?doi="+this.get("id")},t}(o)}),require.register("models/user",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("models/base/model"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(n)}),require.register("routes",function(e,t,r){r.exports=function(e){return e("","home#index"),e(":product/abstract/10.1103/:doi","articles#abstract"),e(":product/cited-by/10.1103/:doi","articles#cited_by"),e(":product/issues/:volume/:issue","issues#show"),e("search","search#index"),e("search/edit","search#edit"),e(":product/recent","browse#recent"),e(":product/highlights","browse#highlights"),e(":product/accepted","browse#accepted"),e(":product/subjects","browse#subjects"),e(":product/subjects/:subject","browse#subjects"),e("*page","pages#catchAll")}}),require.register("views/article-page-view",function(e,t,r){"use strict";var n,o,i,s,a,l,p={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("views/base/view"),o=t("views/article/export-article-view"),a=t("views/article/section-view"),s=t("views/article/fulltext-view"),i=t("views/article/figure-slider-view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.autoRender=!0,t.prototype.region="main",t.prototype.el=$("#body"),t.prototype.events={"click .side-nav a":"clickNav"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.sections={},this},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),this.$("section.article").each(function(e,t){return"fulltext"===$(t).data("magellan-destination")?new s({el:t}):new a({el:t})}),new o({model:Chaplin.mediator.article}),e=$("#slideshow").eq(0),e&&new i({el:e}),this},t.prototype.clickNav=function(e){return this.sections[$(e.target).data("magellan-arrival")].show()},t}(l)}),require.register("views/article/article-action-modal-view",function(e,t,r){"use strict";var n,o,i,s,a=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("views/templates/article/export"),n=t("models/article"),i=t("views/base/view"),r.exports=o=function(e){function t(){return this.opened=a(this.opened,this),this.loadData=a(this.loadData,this),t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!1,t.prototype.el=$("#action-modal"),t.prototype.template=s,t.prototype.listen={"article:actions mediator":"stuff"},t.prototype.events={open:"opened"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments)},t.prototype.stuff=function(){return console.log("here")},t.prototype.loadData=function(){return this.$el.find("textarea").val("Loading..."),$.get(n.exportUrl(this.model.get("id"),this.format,this.product),function(e){return function(t){return e.$el.find("textarea").val(t),e.$el.find("a[data-format]").removeClass("active"),e.$el.find("a[data-format='"+e.format+"']").addClass("active")}}(this))},t.prototype.opened=function(){return this.render(),this.loadData()},t}(i)}),require.register("views/article/article-cited-by-page-view",function(e,t,r){"use strict";var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!0,t.prototype.region="main",t.prototype.el=$("#body"),t.prototype.events={"click .facet-group input":"clickFacet"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this},t.prototype.clickFacet=function(e){var t,r,n,o,i;return t=$(e.target),i=t.val(),"all"===i&&t.is(":checked")?this.$el.find("input[value!='all']").prop("checked",!1):t.is(":checked")&&this.$el.find("input[value='all']").prop("checked",!1),n=_.map(this.$el.find(".facet-group input:checked"),function(e){return e.value}),_.isEmpty(n)&&this.$el.find("input[value='all']").prop("checked",!0),r={},"all"!==n[0]&&(r.journal=n),o=window.location.pathname+"?"+Chaplin.utils.queryParams.stringify(r),document.location.href=o},t}(o)}),require.register("views/article/export-article-view",function(e,t,r){"use strict";var n,o,i,s,a=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("views/templates/article/export"),n=t("models/article"),i=t("views/base/view"),r.exports=o=function(e){function t(){return this.opened=a(this.opened,this),this.loadData=a(this.loadData,this),t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!1,t.prototype.el=$("#export-article"),t.prototype.template=s,t.prototype.events={open:"opened","focus textarea":"selectAll","click #drop-format a":"selectFormat"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.format=e.format||"bibtex",this.product=e.product},t.prototype.loadData=function(){return this.$el.find("textarea").val("Loading..."),$.get(n.exportUrl(this.model.get("id"),this.format,this.product),function(e){return function(t){var r;
return e.$el.find("textarea").val(t),e.$el.find("a[data-format]").removeClass("active"),e.$el.find("a[data-format='"+e.format+"']").addClass("active"),r={bibtex:"BibTeX",ris:"EndNote (RIS)"},e.$el.find("#article-export-dropdown").html("Format: "+r[e.format])}}(this))},t.prototype.opened=function(){return this.render(),this.loadData()},t.prototype.selectFormat=function(e){return e.preventDefault(),this.format=$(e.target).data("format"),this.loadData(),this.$el.find("#drop-format").trigger("close"),this.$el.find("#download-citation").attr("href",n.exportUrl(this.model.get("id"),this.format,this.product)+"&download=true")},t.prototype.selectAll=function(e){var t;return t=$(e.target),t.select(),t.mouseup(function(){return t.unbind("mouseup"),!1})},t.prototype.getTemplateData=function(){return{downloadUrl:n.exportUrl(this.model.get("id"),this.format,this.product)+"&download=true"}},t}(i)}),require.register("views/article/figure-slider-view",function(e,t,r){"use strict";var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!0,t.prototype.events={opened:"opened"},t.prototype.opened=function(){return $(window).trigger("resize")},t}(o)}),require.register("views/article/fulltext-view",function(e,t,r){var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("views/base/view"),o=t("models/article/section"),i=t("models/spinner-config"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!1,t.prototype.events={"click h4.title":"toggleSection","click li#ft-next-page":"nextPage","click li#ft-prev-page":"prevPage"},t.prototype.initialize=function(){var e,r,n;return t.__super__.initialize.apply(this,arguments),this.$el.data("magellan-destination"),this.model=new o({name:this.$el.data("magellan-destination")}),this.$contentEl=this.$el.find("div.content").eq(0),e=null!=(r=null!=(n=this.model.get("page"))?n:this.model.get("page"))?r:1,this.model.set("page",e),this},t.prototype.show=function(){return"no"===this.$contentEl.data("loaded")&&(this.$contentEl.append(new Spinner(i).spin().el),this.loadContent()),this.$contentEl.slideDown(),this.$el.addClass("open")},t.prototype.hide=function(){return this.$contentEl.slideUp(),this.$el.find("#ft-pagination").hide(),this.$el.removeClass("open")},t.prototype.loadContent=function(){return this.model.content({success:function(e){return function(t){var r;return r=JSON.parse(t),e.model.set("totalPages",r.total_pages),e.$contentEl.html(r.output).data("loaded","yes")}}(this),error:function(){return function(e,t){return console.log("FETCH ERROR",t)}}(this),complete:function(e){return function(){return e.$contentEl.scrollTop(),e.$el.find("#ft-pagination").show(),MathJax.Hub.Queue(["Typeset",MathJax.Hub,"fulltext-content"])}}(this)})},t.prototype.reloadContent=function(){return this.$contentEl.scrollTop(),this.$contentEl.data("loaded","no"),this.$contentEl.html(new Spinner(i).spin().el),this.loadContent()},t.prototype.showPaginators=function(){return this.$el.find("#ft-prev-page").show(),this.$el.find("#ft-next-page").show(),this.model.get("page")===this.model.get("totalPages")?this.$el.find("#ft-next-page").hide():this.$el.find("#ft-next-page").show()},t.prototype.nextPage=function(){return this.model.set("page",this.model.get("page")+1),this.reloadContent(),this.showPaginators()},t.prototype.prevPage=function(){return this.model.set("page",this.model.get("page")-1),this.reloadContent(),this.showPaginators()},t.prototype.toggleSection=function(e){return e.preventDefault(),this.$contentEl.is(":visible")?this.hide():this.show()},t}(s)}),require.register("views/article/section-view",function(e,t,r){var n,o,i,s,a,l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=t("views/base/view"),n=t("models/article/section"),s=t("views/article/supplemental-material-view"),i=t("models/spinner-config"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!0,t.prototype.events={"click h4.title":"toggleSection","click .help-message":"toggleSection"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.model=new n({name:this.$el.data("magellan-destination")}),this.$contentEl=this.$el.find("div.content").eq(0),this},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$el.find(".title").attr("title","Click To Expand/Collapse"),this.$el.find(".content").after('<div class="help-message">Click to Expand</div>'),$(window).width()<768?this.$el.removeClass("open").find(".content").hide():this.$el.hasClass("open")?(this.$el.find(".content").show(),this.$el.find(".help-message").hide()):(this.$el.find(".content").hide(),this.$el.find(".help-message").show()),this},t.prototype.show=function(){return this.$contentEl.is("visible")?void 0:("no"===this.$contentEl.data("loaded")&&(this.$contentEl.append(new Spinner(i).spin().el),"supplemental"===this.model.get("name")||"multimedia"===this.model.get("name")?(new s({el:this.$contentEl,type:this.model.get("name")}),this.$contentEl.data("loaded","yes")):this.model.content({success:function(e){return function(t){return e.$contentEl.html(t).data("loaded","yes")}}(this),error:function(){return function(e,t){return console.log("FETCH ERROR",t)}}(this)})),this.$contentEl.slideDown(),this.$el.addClass("open"),this.$el.find(".title").attr("title","Click To Collapse"),this.$el.find(".help-message").hide())},t.prototype.hide=function(){return this.$contentEl.slideUp(),this.$el.removeClass("open"),this.$el.find(".title").attr("title","Click To Expand"),this.$el.find(".help-message").show()},t.prototype.toggleSection=function(e){return e.preventDefault(),this.$contentEl.is(":visible")?this.hide():this.show()},t}(a)}),require.register("views/article/supplemental-material-view",function(e,t,r){var n,o,i,s,a,l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=t("views/templates/article/supplemental-material"),s=t("views/base/view"),n=t("models/supplemental-material"),i=t("views/article/video-player-modal-view"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!1,t.prototype.template=a,t.prototype.events={"click a[data-type='video']":"showVideo"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.model=new n({type:e.type}),this.model.fetch({success:function(e){return function(){return e.render()}}(this)}),this},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.video_player||(this.video_player=new i({el:$("#video-player")})),this},t.prototype.showVideo=function(e){var t,r;return e.preventDefault(),t=$(e.target),r=_.find(this.model.get("components"),function(e){return e.id===t.data("id")}),r?this.video_player.show(r):void 0},t}(s)}),require.register("views/article/video-player-modal-view",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("views/templates/article/video-player"),o=t("views/base/view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.autoRender=!1,t.prototype.template=i,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments)},t.prototype.show=function(e){return this.video=e,this.render()},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$el.foundation("reveal","open"),this},t.prototype.getTemplateData=function(){return this.video},t}(o)}),require.register("views/base/collection-view",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.getTemplateFunction=o.prototype.getTemplateFunction,t}(Chaplin.CollectionView)}),require.register("views/base/view",function(e,t,r){var n,o={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t("lib/view-helper"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.getTemplateFunction=function(){return this.template},t}(Chaplin.View)}),require.register("views/browse/browse-page-view",function(e,t,r){"use strict";var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("views/base/view"),o=t("views/browse/facet-group-view"),i=t("views/search/search-results-view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!0,t.prototype.regions={header:"#header",sidebar:"#search-sidebar",form:"#search-main",title:"#title"},t.prototype.listen={"change model":"refresh"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.resultFormat=e.resultFormat},t.prototype.refresh=function(){return this.model.search({results:this.collection})},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),_.each(this.$el.find(".facet-group"),function(e){return function(t){return new o({model:e.model,el:t})}}(this)),e=new i({collection:this.collection,el:$("#search-result-list"),noWrap:!0,autoRender:!0,renderItems:!1,prerendered:!0,resultFormat:this.resultFormat}),this.subview("results",e),this},t}(s)}),require.register("views/browse/facet-group-view",function(e,t,r){"use strict";var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};i=t("views/base/view"),o=t("models/search/facets"),s=t("views/browse/templates/facet"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!1,t.prototype.events={"click input":"selectFacet"},t.prototype.listen={"search:newResults mediator":"results"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.name=this.$el.data("name")},t.prototype.selectFacet=function(e){var t,r,n,o;return t=$(e.target),r=t.attr("name"),o=t.val(),n=_.clone(this.model.get(this.name)),n||(n=[]),"all"===o&&t.is(":checked")?(n=[],this.$el.find("input[value!='all']").prop("checked",!1)):t.is(":checked")?(this.$el.find("input[value='all']").prop("checked",!1),""!==o&&n.push(o)):(_.pull(n,o),_.isEmpty(n)&&this.$el.find("input[value='all']").prop("checked",!0)),_.isEmpty(n)?this.model.unset(r):this.model.set(r,n)},t.prototype.results=function(e){var t,r,n,o,i,a;r=[],n=this.model.get(this.name),a=_.clone(e.facets[this.name]);for(i in a)t=a[i],null!=n&&p.call(n,i)>=0&&(t.selected=!0),(null==t.count||0===t.count)&&(t.disabled=!0),r.push(t);return r.unshift({label:"ALL",value:"all",noCount:!0,selected:_.isEmpty(this.model.get(this.name))}),o={key:this.name,list:r},this.$el.find("form").html(s(o))},t}(i)}),require.register("views/browse/templates/facet",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t,n){var o,i,p,c="";return c+='\n  <label class="',p={hash:{},inverse:v.noop,fn:v.program(2,s,t),data:t},(i=r.disabled)?o=i.call(e,p):(i=e&&e.disabled,o=typeof i===y?i.call(e,p):i),r.disabled||(o=m.call(e,o,{hash:{},inverse:v.noop,fn:v.program(2,s,t),data:t})),(o||0===o)&&(c+=o),c+='">\n    <input type="checkbox"\n           name="'+f((o=n&&n.key,typeof o===y?o.apply(e):o))+'"\n           value="',(i=r.value)?o=i.call(e,{hash:{},data:t}):(i=e&&e.value,o=typeof i===y?i.call(e,{hash:{},data:t}):i),c+=f(o)+'"\n           ',p={hash:{},inverse:v.noop,fn:v.program(4,a,t),data:t},(i=r.selected)?o=i.call(e,p):(i=e&&e.selected,o=typeof i===y?i.call(e,p):i),r.selected||(o=m.call(e,o,{hash:{},inverse:v.noop,fn:v.program(4,a,t),data:t})),(o||0===o)&&(c+=o),c+="\n           />\n    ",(i=r.label)?o=i.call(e,{hash:{},data:t}):(i=e&&e.label,o=typeof i===y?i.call(e,{hash:{},data:t}):i),c+=f(o)+"\n    ",o=r.unless.call(e,e&&e.noCount,{hash:{},inverse:v.noop,fn:v.program(6,l,t),data:t}),(o||0===o)&&(c+=o),c+="\n  </label>\n"}function s(){return"disabled"}function a(){return"checked"}function l(e,t){var n,o,i,s="";return s+="\n      ",i={hash:{},inverse:v.noop,fn:v.program(7,p,t),data:t},(o=r.count)?n=o.call(e,i):(o=e&&e.count,n=typeof o===y?o.call(e,i):o),r.count||(n=m.call(e,n,{hash:{},inverse:v.noop,fn:v.program(7,p,t),data:t})),(n||0===n)&&(s+=n),s+="\n    "}function p(e,t){var n,o,i="";return i+="("+f((n=r.digitGrouping||e&&e.digitGrouping,o={hash:{},data:t},n?n.call(e,e,o):d.call(e,"digitGrouping",e,o)))+")"}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var c,u,h,d=r.helperMissing,f=this.escapeExpression,v=this,y="function",m=r.blockHelperMissing;return h={hash:{},inverse:v.noop,fn:v.programWithDepth(1,i,o,t),data:o},(u=r.list)?c=u.call(t,h):(u=t&&t.list,c=typeof u===y?u.call(t,h):u),r.list||(c=m.call(t,c,{hash:{},inverse:v.noop,fn:v.programWithDepth(1,i,o,t),data:o})),c||0===c?c:""});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/footer-view",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!1,t.prototype.region="footer",t.prototype.el=$("footer"),t.prototype.events={"click .title":"toggleLinkBlock","click #footer-top .footer-drop":"toggleLinkBar"},t.prototype.render=function(){return this.autoAttach&&this.attach.apply(this,arguments),this},t.prototype.toggleLinkBlock=function(e){return $(e.target).next("div.content").slideToggle()},t.prototype.toggleLinkBar=function(e){return $(window).width()<769?($(e.target).toggleClass("open"),this.$el.find(".footer-drop-links").slideToggle()):void 0},t}(o)}),require.register("views/home-page-view",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.autoRender=!0,t.prototype.className="home-page",t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.rootHomepage=e.rootHomepage},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),$(window).width()<481&&(e=$("#header h2.title"),!e.hasClass("open"))?e.click():void 0},t}(o)}),require.register("views/issues/issue-page-view",function(e,t,r){"use strict";var n,o,i,s,a,l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("models/search/result"),a=t("views/base/view"),s=t("views/article/section-view"),i=t("views/search/search-result-view"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!0,t.prototype.region="main",t.prototype.el=$("#body"),t.prototype.events={"click .side-nav a":"clickNav"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.sections={},this},t.prototype.render=function(){var e,r,n,a,l,p,c;for(t.__super__.render.apply(this,arguments),this.$("section").each(function(e){return function(t,r){return e.sections[$(r).attr("id")]=new s({el:r})}}(this)),c=this.$el.find("div.article"),l=0,p=c.length;p>l;l++)r=c[l],a=new o({id:$(r).data("id")}),this.subview("itemView:"+a.cid,new i({autoRender:!1,autoAttach:!0,resultFormat:this.resultFormat,model:a,el:r}));return e=this.$("#toc-sidebar"),n=function(){return e.width(e.parent("div").width())},n(),$(window).resize(function(){return n()}),this},t.prototype.clickNav=function(e){return this.sections[$(e.target).data("magellan-arrival")].show()},t}(a)}),require.register("views/report-bug-view",function(e,t,r){var n,o,i,s,a=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("views/templates/report-bug/form"),s=t("views/templates/report-bug/status"),r.exports=n=function(e){function t(){return this.sendReport=a(this.sendReport,this),this.opened=a(this.opened,this),t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!1,t.prototype.el=$("#report-bug-modal"),t.prototype.template=i,t.prototype.events={open:"opened","submit form":"sendReport"},t.prototype.opened=function(){return this.render(),this.$el.foundation("forms"),this},t.prototype.sendReport=function(e){var t;return e.preventDefault(),_.isEmpty(this.$el.find('input[name="email"]').val())?this.$el.find("#feedback-notices").addClass("alert-box alert").text("Email address is required"):(this.$el.find("#feedback-notices").removeClass("alert-box alert").text(""),t={url:document.URL,type:this.$el.find("select").val(),comments:this.$el.find("textarea").val(),email:this.$el.find('input[name="email"]').val()},$.ajax({type:"POST",url:"/debug/send_report",data:t,success:function(e){return function(){return e.$el.html(s)}}(this)})),this},t}(o)}),require.register("views/search/date-facet-group-view",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("views/base/view"),n=t("models/search/criteria"),r.exports=o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,e),r.prototype.title="Date",r.prototype.key="date",r.prototype.template=t("./templates/date-facets"),r.prototype.events={"click a":"dateSelect","submit form":"submitForm","keyup form input":"keyup"},r.prototype.initialize=function(e){return r.__super__.initialize.apply(this,arguments),this.searchService=e.searchService,this.title=e.title||this.title,this.key=e.key||this.key,this.enableAll=e.enableAll,this},r.prototype.dateSelect=function(e){var t;return e.preventDefault(),t=$(e.target).data("date"),e.preventDefault(),t=$(e.target).data("date"),this.$el.find(".date-options a.selected").removeClass("selected"),$(e.target).addClass("selected"),this.$el.find('input[name="date"]').val(t),"custom"===t?this.$el.find(".custom-date-range").show():(this.$el.find(".custom-date-range").hide(),this.searchService.criteria.set({start_date:t,end_date:null}),this.searchService.search())},r.prototype.submitForm=function(e){var t,r;return e.preventDefault(),r=this.$el.find("input[name='start_date']").first().val(),t=this.$el.find("input[name='end_date']").first().val(),this.searchService.criteria.set({start_date:r,end_date:t}),this.searchService.search()},r.prototype.keyup=function(e){return 13===e.keyCode?this.$el.find("form").submit():void 0},r.prototype.hasCustom=function(){var e;return e=this.searchService.criteria.get("start_date"),null!==e&&""!==e&&"week"!==e&&"month"!==e&&"year"!==e},r.prototype.getTemplateData=function(){return{title:this.title,key:this.key,enableAll:this.enableAll,hasCustom:this.hasCustom(),startDate:this.searchService.criteria.get("start_date"),endDate:this.searchService.criteria.get("end_date"),list:_.map(n.dateOptions,function(e){return function(t){var r;return t=_.clone(t),r=e.searchService.criteria.get("start_date"),(t.value===r||"custom"===t.value&&null!==r&&""!==r&&"week"!==r&&"month"!==r&&"year"!==r)&&(t.selected=!0),t}}(this))}},r}(i)}),require.register("views/search/facet-group-view",function(e,t,r){"use strict";var n,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("./templates/facet-group"),r.exports=n=function(e){function t(){return this.facetValues=s(this.facetValues,this),this.selectFacet=s(this.selectFacet,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.template=i,t.prototype.events={"click input":"selectFacet"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.searchService=e.searchService,this.title=e.title||this.title,this.key=e.key||this.key,this.enableAll=e.enableAll,null!=e.facets&&(this.facets=e.facets),this},t.prototype.selectFacet=function(e){var t,r,n;return t=$(e.target),r=t.attr("name"),n=t.val(),""===n?this.searchService.criteria.clearRestrictions(r):t.is(":checked")?this.searchService.criteria.addRestriction(r,n):this.searchService.criteria.removeRestriction(r,n),this.searchService.search()},t.prototype.facetValues=function(){var e,t,r,n,o,i,s,a;if(r=this.searchService.facets.get(this.key),i=this.searchService.criteria.get("restrictions")[this.key],s=0,o=[],n=!1,this.facets)o=_.map(this.facets,function(e){var t,o;return t={value:e.value,label:e.label,count:null!=r?null!=(o=r[e.value])?o.count:void 0:void 0},t.count&&(s+=t.count),_.include(i,t.value)&&(n=!0,t.selected=!0),t});else for(a in r)e=r[a],s+=e.count,t={value:a,label:e.label||a,count:e.count},_.include(i,a)&&(n=!0,t.selected=!0),o.push(t);return o.unshift({label:"ALL",value:"",count:0===s?null:s,selected:!n}),o},t.prototype.getTemplateData=function(){return{title:this.title,key:this.key,enableAll:this.enableAll,list:this.facetValues()}},t}(o)}),require.register("views/search/journal-facet-group-view",function(e,t,r){var n,o,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=t("views/search/facet-group-view"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.title="Journals",t.prototype.key="journal",t.prototype.facets=[{label:"Phys. Rev. Lett.",value:"prl"},{label:"Phys. Rev. A",value:"pra"},{label:"Phys. Rev. B",value:"prb"},{label:"Phys. Rev. C",value:"prc"},{label:"Phys. Rev. D",value:"prd"},{label:"Phys. Rev. E",value:"pre"},{label:"Phys. Rev. X",value:"prx"},{label:"Phys. Rev. ST Accel. Beams",value:"prstab"},{label:"Phys. Rev. ST Phys. Educ. Res.",value:"prstper"},{label:"Rev. Mod. Phys.",value:"rmp"},{label:"Phys. Rev.",value:"pr"},{label:"Phys. Rev. (Series I)",value:"pri"},{label:"Physics",value:"physics"},{label:"Phys. Rev. Focus",value:"focus"}],t}(n)}),require.register("views/search/pagination-view",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("./templates/pagination-links"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template=i,t.prototype.listen={"reset collection":"render"},t.prototype.events={"click a":"selectPage"},t.prototype.initialize=function(e){return this.searchService=e.searchService,this.collection=this.searchService.results},t.prototype.numPages=function(){return{start:results.page,end:results.page*results.perPage,total:results.total}},t.prototype.pageNumbers=function(e,t,r){var n,o,i,s,a,l,p,c;return l=Math.ceil(t/r),n=2,s=1,p=e-n,c=e+n,c>l&&(p-=c-l,c=l),1>p&&(c+=1-p,p=1,c>l&&(c=l)),i=_.range(p,c+1),s+3<i[0]?(o=_.range(1,s+1),o.push("gap")):o=_.range(1,i[0]-1),l-s-2>i.slice(-1)?(a=_.range(l-s,l+1),a.unshift("gap")):a=_.range(i.slice(-1)+1,l+1),o.concat(i,a)},t.prototype.links=function(){var e,t,r,n,o;return e=this.searchService.criteria.get("page"),n=this.searchService.results.total,r=this.searchService.results.perPage,o=Math.ceil(n/r),t=[],1===o?t:(t.push(this.paginationLink(_.max([1,e-1]),"&laquo;",e>1?"":"arrow unavailable")),_.each(this.pageNumbers(e,n,r),function(r){return function(n){return t.push("gap"===n?r.paginationLink(1,"&hellip;","unavailable"):r.paginationLink(n,null,e===n?"current":""))}}(this)),t.push(this.paginationLink(_.min([e+1,o]),"&raquo;",e===o?"unavailable":"")),t)},t.prototype.getTemplateData=function(){return{links:this.links()}},t.prototype.paginationLink=function(e,t,r){return null==t&&(t=null),null==r&&(r=null),{number:e,text:t||Swag.helpers.digitGrouping(e),"class":r}},t.prototype.selectPage=function(e){var t;return e.preventDefault(),$(e.target).parent().is(".unavailable, .current")?void 0:(t=parseInt($(e.target).data("page")),this.searchService.criteria.set({page:t}),this.searchService.search(),$("body,html").animate({scrollTop:0},600))},t}(o)}),require.register("views/search/search-clause-view",function(e,t,r){var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("views/base/view"),n=t("models/search/clause"),s=t("./templates/clause"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!1,t.prototype.template=s,t.prototype.update=function(){return this.model.set({operator:this.$el.find("select[name='c[][operator]']").val(),field:this.$el.find("select[name='c[][field]']").val(),value:this.$el.find("input[name='c[][value]']").val()})},t.prototype.operators=function(){return _.map(n.operators,function(e){return function(t){return{value:t.value,label:t.label,selected:t.value===e.model.get("operator")}}}(this))},t.prototype.fields=function(){return _.map(n.fields,function(e){return function(t){return{value:t.value,label:t.label,selected:t.value===e.model.get("field")}}}(this))},t.prototype.getTemplateData=function(){return{operators:this.operators(),fields:this.fields(),value:this.model.get("value")}},t}(i)}),require.register("views/search/search-form-view",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("./templates/clause"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.autoRender=!1,t.prototype.events={"click .add-clause":"addClause","click .date-options a":"toggleDate","click .facet-group input":"toggleFacet"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.searchService=e.searchService,this},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this},t.prototype.addClause=function(e){return e.preventDefault(),this.$el.find("a.add-clause").hide(),this.$el.find(".clauses").append(i()),this.$el.foundation("forms"),this},t.prototype.toggleDate=function(e){var t;return e.preventDefault(),t=$(e.target).data("date"),this.$el.find(".date-options a.selected").removeClass("selected"),$(e.target).addClass("selected"),this.$el.find('input[name="date"]').val(t),"custom"===t?this.$el.find(".custom-date-range").show():(this.$el.find(".custom-date-range").hide(),this.$el.find('input[name="start_date"], input[name="end_date"]').val(""))},t.prototype.toggleFacet=function(e){var t,r;return t=$(e.target),r=t.attr("name"),t.is(":checked")?_.isEmpty(t.val())||"all"===t.val()?this.$el.find("input[name='"+r+"'][value!='all']").prop("checked",!1):this.$el.find("input[name='"+r+"'][value='all']").prop("checked",!1):0===this.$el.find("input[name='"+r+"']:checked").length?this.$el.find("input[name='"+r+"'][value='all']").prop("checked",!0):void 0},t}(o)}),require.register("views/search/search-page-view",function(e,t,r){"use strict";var n,o,i,s,a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};s=t("views/base/view"),n=t("views/search/search-form-view"),i=t("views/search/search-sidebar-view"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!0,t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.searchService=e.searchService},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),e=new n({el:$("#search-form"),searchService:this.searchService,autoRender:!0}),this.subview("searchForm",e),this.$el.foundation("forms"),this},t}(s)}),require.register("views/search/search-result-view",function(e,t,r){var n,o,i,s,a,l,p,c={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=t("views/base/view"),p=t("./templates/result"),l=t("./templates/accepted-result"),s=t("models/spinner-config"),n=t("models/article"),o=t("views/article/export-article-view"),r.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.autoRender=!1,t.prototype.getTemplateFunction=function(){return"accepted"===this.resultFormat?l:p},t.prototype.events={"click .reveal-abstract":"revealAbstract","click .reveal-export":"revealExport","click .expand":"revealActions"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.resultFormat=e.resultFormat,e},t.prototype.revealExport=function(e){var r,i;return r=$(e.target).attr("data-id"),i=$(e.target).attr("data-jcode"),t.exportView&&(t.exportView.undelegateEvents(),delete t.exportView),t.exportView=new o({model:new n({id:r}),product:i,el:$("#export-article")}),t.exportView.opened(),$("#export-article").foundation("reveal","open")},t.prototype.revealAbstract=function(e){var t;return e.preventDefault(),this.$el.find(".summary").append(new Spinner(s).spin().el),t=this.model.has("item")?this.model.get("item").identifiers.doi:this.model.get("id"),$.ajax({url:"/_api/v1/articles/"+t+"/abstract",method:"GET",success:function(e){return function(t){var r;return r=e.$el.find(".summary").first(),r.html(t),e.publishEvent("mathjax:typeset",r),e.$el.find(".reveal-abstract").remove()}}(this)})},t.prototype.revealActions=function(e){return e.preventDefault(),console.log("here")},t}(a)}),require.register("views/search/search-results-page-view",function(e,t,r){"use strict";var n,o,i,s,a,l,p,c={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e
}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("views/base/view"),p=t("./templates/results"),s=t("views/search/search-results-view"),a=t("views/search/search-sidebar-view"),i=t("views/search/search-results-title-view"),n=t("views/search/pagination-view"),r.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.autoRender=!0,t.prototype.regions={header:"#header",sidebar:"#search-sidebar",results:"#search-main",title:"#title"},t.prototype.template=p,t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.searchService=e.searchService},t.prototype.render=function(){var e,r,o,l;return t.__super__.render.apply(this,arguments),r=new s({region:"results",collection:this.searchService.results,autoRender:!0}),this.subview("searchResults",r),o=new a({region:"sidebar",searchService:this.searchService}),this.subview("searchSidebar",o),l=new i({region:"title",searchService:this.searchService}),this.subview("searchTitle",l),e=new n({region:"results",searchService:this.searchService}),this.subview("paginationView",e),this.$el.foundation("forms"),this},t.prototype.getTemplateData=function(){return{query:this.searchService.criteria.readableQuery(),editUrl:window.APS.searchEditURL,user:Chaplin.mediator.user}},t}(l)}),require.register("views/search/search-results-title-view",function(e,t,r){var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("./templates/results-title"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template=i,t.prototype.initialize=function(e){return this.searchService=e.searchService,this.searchService.subscribeEvent("search:newResults",this.render)},t.prototype.getTemplateData=function(){var e;return e=this.searchService.results,{query:this.searchService.criteria.readableQuery,start:(e.page-1)*e.perPage+1,end:_.min([e.page*e.perPage,e.total]),total:e.total}},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$el.foundation("forms"),this},t}(o)}),require.register("views/search/search-results-view",function(e,t,r){"use strict";var n,o,i,s,a,l={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("models/search/result"),n=t("views/base/collection-view"),s=t("views/search/search-result-view"),o=t("views/search/pagination-view"),r.exports=a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.autoRender=!1,t.prototype.itemSelector="div.article",t.prototype.initItemView=function(e){return new s({autoRender:!1,resultFormat:this.resultFormat,model:e})},t.prototype.initialize=function(e){return this.prerendered=e.prerendered,this.resultFormat=e.resultFormat,t.__super__.initialize.apply(this,arguments),this.on("addedToDOM",function(){return this.publishEvent("mathjax:typeset",this.$el)}),this.prerendered?this.initPrerendered():void 0},t.prototype.renderAllItems=function(){return this.prerendered&&(this.$el.empty(),this.prerendered=!1),t.__super__.renderAllItems.apply(this,arguments)},t.prototype.initPrerendered=function(){var e,t,r,n,o,a;for(o=this.$el.find(this.itemSelector),a=[],r=0,n=o.length;n>r;r++)e=o[r],t=new i({id:$(e).data("id")}),a.push(this.subview("itemView:"+t.cid,new s({autoRender:!1,autoAttach:!0,resultFormat:this.resultFormat,model:t,el:e})));return a},t}(n)}),require.register("views/search/search-sidebar-view",function(e,t,r){var n,o,i,s,a,l,p,c={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};l=t("views/base/view"),p=t("./templates/sidebar"),n=t("models/search/criteria"),i=t("views/search/facet-group-view"),s=t("views/search/journal-facet-group-view"),o=t("views/search/date-facet-group-view"),r.exports=a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.regions={facets:"#search-facets"},t.prototype.template=p,t.prototype.events={"change select[name='sort']":"changeSort"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.searchService=e.searchService,this.searchService.subscribeEvent("search:newResults",this.render),this.enableAll=e.enableAll,this},t.prototype.render=function(){var e,r,n,a;return t.__super__.render.apply(this,arguments),n=new i({region:"facets",searchService:this.searchService,autoRender:!0,title:"Highlights",key:"highlight",enableAll:this.enableAll}),this.subview("highlightFacet",n),e=new i({region:"facets",searchService:this.searchService,autoRender:!0,title:"Category",key:"category",enableAll:this.enableAll}),this.subview("categoryFacet",e),a=new s({region:"facets",searchService:this.searchService,autoRender:!0,enableAll:this.enableAll}),this.subview("journalFacet",a),r=new o({region:"facets",searchService:this.searchService,autoRender:!0}),this.subview("dateFacet",r),this},t.prototype.changeSort=function(e){var t;return t=$(e.target),this.searchService.criteria.set({sort:t.val()}),this.searchService.search()},t.prototype.sortOptions=function(){var e;return e=this.searchService.criteria.get("sort"),_.map(n.sortOptions,function(){return function(t){return t=_.clone(t),t.value===e&&(t.selected=!0),t}}(this))},t.prototype.getTemplateData=function(){return{sortOptions:this.sortOptions()}},t}(l)}),require.register("views/search/templates/accepted-result",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e){var t,r="";return r+='\n        <h6 class="authors">'+m((t=e&&e.item,t=null==t||t===!1?t:t.summaries,t=null==t||t===!1?t:t.toc_authors,t=null==t||t===!1?t:t.value,typeof t===y?t.apply(e):t))+"</h6>\n      "}function s(e,t){var n,o,i,s="";return s+='\n        <h6 class="pub-info">\n          Accepted '+m((o=r.formatDate||e&&e.formatDate,i={hash:{},data:t},o?o.call(e,(n=e&&e.item,null==n||n===!1?n:n.date),"%e %B %Y",i):g.call(e,"formatDate",(n=e&&e.item,null==n||n===!1?n:n.date),"%e %B %Y",i)))+"\n        </h6>\n      "}function a(e,t){var n,o,i="";return i+='\n        <p class="summary">\n          ',(o=r.value)?n=o.call(e,{hash:{},data:t}):(o=e&&e.value,n=typeof o===y?o.call(e,{hash:{},data:t}):o),(n||0===n)&&(i+=n),i+='<a href="" class="expand-summary"></a>\n        </p>\n      '}function l(e,t){var r,n="";return n+="\n        ",r=e&&e.item,r=null==r||r===!1?r:r.summaries,r=null==r||r===!1?r:r["abstract"],r=typeof r===y?r.apply(e):r,r=w.call(e,r,{hash:{},inverse:_.noop,fn:_.program(8,p,t),data:t}),(r||0===r)&&(n+=r),n+="\n      "}function p(e,t){var n,o,i="";return i+="\n          ",(o=r.value)?n=o.call(e,{hash:{},data:t}):(o=e&&e.value,n=typeof o===y?o.call(e,{hash:{},data:t}):o),(n||0===n)&&(i+=n),i+="\n        "}function c(e,t){var r,n="";return n+='\n        <ul class="inline-list subjects">\n          ',r=e&&e.item,r=null==r||r===!1?r:r.classificationSchemes,r=null==r||r===!1?r:r.subject_areas,r=typeof r===y?r.apply(e):r,r=w.call(e,r,{hash:{},inverse:_.noop,fn:_.program(11,u,t),data:t}),(r||0===r)&&(n+=r),n+="\n        </ul>\n      "}function u(e,t){var n,o,i="";return i+='\n            <li><a class="label">',(o=r.label)?n=o.call(e,{hash:{},data:t}):(o=e&&e.label,n=typeof o===y?o.call(e,{hash:{},data:t}):o),(n||0===n)&&(i+=n),i+="</a></li>\n          "}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var h,d,f,v="",y="function",m=this.escapeExpression,g=r.helperMissing,_=this,w=r.blockHelperMissing;return v+='<div class="article panel">\n  <div class="row">\n    <div class="large-12 columns">\n      <h5 class="title">\n        <a href="/'+m((d=r.lowercase||t&&t.lowercase,f={hash:{},data:o},d?d.call(t,(h=t&&t.item,h=null==h||h===!1?h:h.source,h=null==h||h===!1?h:h.identifiers,null==h||h===!1?h:h.jcode),f):g.call(t,"lowercase",(h=t&&t.item,h=null==h||h===!1?h:h.source,h=null==h||h===!1?h:h.identifiers,null==h||h===!1?h:h.jcode),f)))+"/accepted/"+m((h=t&&t.item,h=null==h||h===!1?h:h.identifiers,h=null==h||h===!1?h:h.slug,typeof h===y?h.apply(t):h))+'">',h=t&&t.item,h=null==h||h===!1?h:h.title,h=null==h||h===!1?h:h.value,h=typeof h===y?h.apply(t):h,(h||0===h)&&(v+=h),v+="</a>\n      </h5>\n\n      ",h=r["if"].call(t,(h=t&&t.item,h=null==h||h===!1?h:h.summaries,h=null==h||h===!1?h:h.toc_authors,null==h||h===!1?h:h.value),{hash:{},inverse:_.noop,fn:_.program(1,i,o),data:o}),(h||0===h)&&(v+=h),v+="\n\n      ",h=r["if"].call(t,(h=t&&t.item,null==h||h===!1?h:h.date),{hash:{},inverse:_.noop,fn:_.program(3,s,o),data:o}),(h||0===h)&&(v+=h),v+="\n\n      ",h=t&&t.item,h=null==h||h===!1?h:h.summaries,h=null==h||h===!1?h:h["short"],h=typeof h===y?h.apply(t):h,h=w.call(t,h,{hash:{},inverse:_.noop,fn:_.program(5,a,o),data:o}),(h||0===h)&&(v+=h),v+="\n\n      ",h=t&&t.item,h=null==h||h===!1?h:h.summaries,h=null==h||h===!1?h:h["short"],h=typeof h===y?h.apply(t):h,h=w.call(t,h,{hash:{},inverse:_.program(7,l,o),fn:_.noop,data:o}),(h||0===h)&&(v+=h),v+="\n\n      ",h=r["if"].call(t,(h=t&&t.item,h=null==h||h===!1?h:h.classificationSchemes,null==h||h===!1?h:h.subject_areas),{hash:{},inverse:_.noop,fn:_.program(10,c,o),data:o}),(h||0===h)&&(v+=h),v+="\n    </div>\n  </div>\n</div>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/clause",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{},'<div class="row collapse search-clause">\n  <div class="large-3 columns">\n    <select name="c[][operator]">\n      <option value="AND">AND</option>\n      <option value="OR">OR</option>\n      <option value="NOT">NOT</option>\n    </select>\n  </div>\n\n  <div class="large-3 columns">\n    <select name="c[][field]">\n      <option value="all">All Fields</option>\n      <option value="author">Author</option>\n      <option value="abstract">Abstract</option>\n      <option value="abstitle">Abstract/Title</option>\n      <option value="title">Title</option>\n      <option value="refauth">Cited Author</option>\n      <option value="affiliation">Affiliation</option>\n      <option value="collaboration">Collaboration</option>\n    </select>\n  </div>\n\n  <div class="large-5 columns">\n    <input autocomplete="off" autocorrect="off" autocapitalize="off"\n           spellcheck="false" name="c[][value]" type="text" />\n  </div>\n\n  <div class="large-1 columns">\n    <a class="small button add-clause" href="" title="Add a Clause">\n      <i class="general foundicon-plus"></i>\n    </a>\n  </div>\n</div>\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/date-facets",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i="";return i+="\n        <li>\n          <a ",n=r["if"].call(e,e&&e.selected,{hash:{},inverse:h.noop,fn:h.program(2,s,t),data:t}),(n||0===n)&&(i+=n),i+=' href="#" data-date="',(o=r.value)?n=o.call(e,{hash:{},data:t}):(o=e&&e.value,n=typeof o===d?o.call(e,{hash:{},data:t}):o),i+=f(n)+'">',(o=r.label)?n=o.call(e,{hash:{},data:t}):(o=e&&e.label,n=typeof o===d?o.call(e,{hash:{},data:t}):o),i+=f(n)+"</a>\n        </li>\n      "}function s(){return'class="selected"'}function a(){return'style="display: none;"'}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var l,p,c,u="",h=this,d="function",f=this.escapeExpression,v=r.blockHelperMissing;return u+='<h5 class="top title open facet">\n  ',(p=r.title)?l=p.call(t,{hash:{},data:o}):(p=t&&t.title,l=typeof p===d?p.call(t,{hash:{},data:o}):p),u+=f(l)+'\n  <span class="right">\n    <i class="general foundicon-plus"></i>\n    <i class="general foundicon-minus"></i>\n  </span>\n</h5>\n\n<div class="top content">\n  <div class="content">\n    <ul class="date-options no-bullet">\n      ',c={hash:{},inverse:h.noop,fn:h.program(1,i,o),data:o},(p=r.list)?l=p.call(t,c):(p=t&&t.list,l=typeof p===d?p.call(t,c):p),r.list||(l=v.call(t,l,{hash:{},inverse:h.noop,fn:h.program(1,i,o),data:o})),(l||0===l)&&(u+=l),u+='\n      <li class="custom-date-range" ',c={hash:{},inverse:h.program(4,a,o),fn:h.noop,data:o},(p=r.hasCustom)?l=p.call(t,c):(p=t&&t.hasCustom,l=typeof p===d?p.call(t,c):p),r.hasCustom||(l=v.call(t,l,{hash:{},inverse:h.program(4,a,o),fn:h.noop,data:o})),(l||0===l)&&(u+=l),u+='>\n        <form action="#" method="get" id="date-form">\n          <div class="row">\n            <div class="small-5 columns">\n              <input type="text" name="start_date" value="',(p=r.startDate)?l=p.call(t,{hash:{},data:o}):(p=t&&t.startDate,l=typeof p===d?p.call(t,{hash:{},data:o}):p),u+=f(l)+'"/>\n            </div>\n            <div class="small-2 columns">\n              <label class="inline">to</label>\n            </div>\n            <div class="small-5 columns">\n              <input type="text" name="end_date" value="',(p=r.endDate)?l=p.call(t,{hash:{},data:o}):(p=t&&t.endDate,l=typeof p===d?p.call(t,{hash:{},data:o}):p),u+=f(l)+'"/>\n            </div>\n          </div>\n        </form>\n      </li>\n    </ul>\n  </div>\n</div>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/facet-group",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t,n){var o,i,a,c="";return c+='\n        <label class="',a={hash:{},inverse:f.programWithDepth(2,s,t,n),fn:f.noop,data:t},(i=r.count)?o=i.call(e,a):(i=e&&e.count,o=typeof i===m?i.call(e,a):i),r.count||(o=g.call(e,o,{hash:{},inverse:f.programWithDepth(2,s,t,n),fn:f.noop,data:t})),(o||0===o)&&(c+=o),c+='">\n          <input type="checkbox"\n                 name="'+y((o=n&&n.key,typeof o===m?o.apply(e):o))+'"\n                 value="',(i=r.value)?o=i.call(e,{hash:{},data:t}):(i=e&&e.value,o=typeof i===m?i.call(e,{hash:{},data:t}):i),c+=y(o)+'"\n                 ',a={hash:{},inverse:f.noop,fn:f.program(5,l,t),data:t},(i=r.selected)?o=i.call(e,a):(i=e&&e.selected,o=typeof i===m?i.call(e,a):i),r.selected||(o=g.call(e,o,{hash:{},inverse:f.noop,fn:f.program(5,l,t),data:t})),(o||0===o)&&(c+=o),c+="\n                 ",a={hash:{},inverse:f.programWithDepth(2,s,t,n),fn:f.noop,data:t},(i=r.count)?o=i.call(e,a):(i=e&&e.count,o=typeof i===m?i.call(e,a):i),r.count||(o=g.call(e,o,{hash:{},inverse:f.programWithDepth(2,s,t,n),fn:f.noop,data:t})),(o||0===o)&&(c+=o),c+="/>\n          ",(i=r.label)?o=i.call(e,{hash:{},data:t}):(i=e&&e.label,o=typeof i===m?i.call(e,{hash:{},data:t}):i),c+=y(o)+"\n          ",a={hash:{},inverse:f.noop,fn:f.program(7,p,t),data:t},(i=r.count)?o=i.call(e,a):(i=e&&e.count,o=typeof i===m?i.call(e,a):i),r.count||(o=g.call(e,o,{hash:{},inverse:f.noop,fn:f.program(7,p,t),data:t})),(o||0===o)&&(c+=o),c+="\n        </label>\n      "}function s(e,t,n){var o;return o=r.unless.call(e,n&&n.enableAll,{hash:{},inverse:f.noop,fn:f.program(3,a,t),data:t}),o||0===o?o:""}function a(){return"disabled"}function l(){return"checked"}function p(e,t){var n,o,i="";return i+="("+y((n=r.digitGrouping||e&&e.digitGrouping,o={hash:{},data:t},n?n.call(e,e,o):v.call(e,"digitGrouping",e,o)))+")"}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var c,u,h,d="",f=this,v=r.helperMissing,y=this.escapeExpression,m="function",g=r.blockHelperMissing;return d+='<h5 class="top title open facet">\n  ',(u=r.title)?c=u.call(t,{hash:{},data:o}):(u=t&&t.title,c=typeof u===m?u.call(t,{hash:{},data:o}):u),d+=y(c)+'\n  <span class="right">\n    <i class="general foundicon-plus"></i>\n    <i class="general foundicon-minus"></i>\n  </span>\n</h5>\n\n<div class="top content">\n  <div class="content">\n    <form>\n      ',h={hash:{},inverse:f.noop,fn:f.programWithDepth(1,i,o,t),data:o},(u=r.list)?c=u.call(t,h):(u=t&&t.list,c=typeof u===m?u.call(t,h):u),r.list||(c=g.call(t,c,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,i,o,t),data:o})),(c||0===c)&&(d+=c),d+="\n    </form>\n  </div>\n</div>"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/pagination-links",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i="";return i+='\n      <li class="',(o=r["class"])?n=o.call(e,{hash:{},data:t}):(o=e&&e["class"],n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=f(n)+'">\n        <a href="#" data-page="',(o=r.number)?n=o.call(e,{hash:{},data:t}):(o=e&&e.number,n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=f(n)+'">\n          ',n=r["if"].call(e,e&&e.text,{hash:{},inverse:v.program(4,a,t),fn:v.program(2,s,t),data:t}),(n||0===n)&&(i+=n),i+="\n        </a>\n      </li>\n    "}function s(e,t){var n,o,i="";return i+="\n            ",(o=r.text)?n=o.call(e,{hash:{},data:t}):(o=e&&e.text,n=typeof o===h?o.call(e,{hash:{},data:t}):o),(n||0===n)&&(i+=n),i+="\n          "}function a(e,t){var n,o,i="";return i+="\n            "+f((n=r.digitGrouping||e&&e.digitGrouping,o={hash:{},data:t},n?n.call(e,e&&e.number,o):d.call(e,"digitGrouping",e&&e.number,o)))+"\n          "}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var l,p,c,u="",h="function",d=r.helperMissing,f=this.escapeExpression,v=this,y=r.blockHelperMissing;return u+='<div class="pagination-centered">\n  <ul class="pagination">\n    ',c={hash:{},inverse:v.noop,fn:v.program(1,i,o),data:o},(p=r.links)?l=p.call(t,c):(p=t&&t.links,l=typeof p===h?p.call(t,c):p),r.links||(l=y.call(t,l,{hash:{},inverse:v.noop,fn:v.program(1,i,o),data:o})),(l||0===l)&&(u+=l),u+="\n  </ul>\n</div>"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/result",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i="";return i+='\n          <span class="suggestion label radius">',(o=r.label)?n=o.call(e,{hash:{},data:t}):(o=e&&e.label,n=typeof o===_?o.call(e,{hash:{},data:t}):o),(n||0===n)&&(i+=n),i+="</span>\n        "}function s(e,t){var n,o,i,s="";return s+='\n          <span class="right">\n            '+b((o=r.digitGrouping||e&&e.digitGrouping,i={hash:{},data:t},o?o.call(e,(n=e&&e.item,n=null==n||n===!1?n:n.statistics,null==n||n===!1?n:n.num_cited_by),i):w.call(e,"digitGrouping",(n=e&&e.item,n=null==n||n===!1?n:n.statistics,null==n||n===!1?n:n.num_cited_by),i)))+"\n            "+b((o=r.inflect||e&&e.inflect,i={hash:{},data:t},o?o.call(e,(n=e&&e.item,n=null==n||n===!1?n:n.statistics,null==n||n===!1?n:n.num_cited_by),"citation","citations",i):w.call(e,"inflect",(n=e&&e.item,n=null==n||n===!1?n:n.statistics,null==n||n===!1?n:n.num_cited_by),"citation","citations",i)))+"\n          </span>\n        "}function a(e){var t,r="";return r+='\n        <h6 class="authors">'+b((t=e&&e.item,t=null==t||t===!1?t:t.summaries,t=null==t||t===!1?t:t.toc_authors,t=null==t||t===!1?t:t.value,typeof t===_?t.apply(e):t))+"</h6>\n      "}function l(e,t){var n,o,i,s="";return s+='\n        <h6 class="pub-info">\n          '+b((n=e&&e.item,n=null==n||n===!1?n:n.source,n=null==n||n===!1?n:n.abbreviatedName,typeof n===_?n.apply(e):n))+"\n          <b>"+b((n=e&&e.item,n=null==n||n===!1?n:n.volume,n=null==n||n===!1?n:n.number,typeof n===_?n.apply(e):n))+"</b>,\n          "+b((n=e&&e.item,n=null==n||n===!1?n:n.pageStart,typeof n===_?n.apply(e):n)),o=r.is||e&&e.is,i={hash:{},inverse:x.noop,fn:x.program(8,p,t),data:t},n=o?o.call(e,(n=e&&e.item,null==n||n===!1?n:n.articleType),"rapid",i):w.call(e,"is",(n=e&&e.item,null==n||n===!1?n:n.articleType),"rapid",i),(n||0===n)&&(s+=n),s+="\n          \n          Published "+b((o=r.formatDate||e&&e.formatDate,i={hash:{},data:t},o?o.call(e,(n=e&&e.item,null==n||n===!1?n:n.date),"%e %B %Y",i):w.call(e,"formatDate",(n=e&&e.item,null==n||n===!1?n:n.date),"%e %B %Y",i)))+"\n        </h6>\n      "}function p(){return"(R)"}function c(){return'\n        <h6 class="reveal-abstract">\n          <a href="">\n            Show Abstract\n            <i class="general foundicon-plus"></i>\n          </a>\n        </h6>\n        <div class="summary"></div>\n      '}function u(e,t){var r,n="";return n+='\n        <ul class="inline-list subjects">\n          ',r=e&&e.item,r=null==r||r===!1?r:r.classificationSchemes,r=null==r||r===!1?r:r.subject_areas,r=typeof r===_?r.apply(e):r,r=$.call(e,r,{hash:{},inverse:x.noop,fn:x.program(13,h,t),data:t}),(r||0===r)&&(n+=r),n+="\n        </ul>\n      "}function h(e,t){var n,o,i="";return i+='\n            <li><a class="label" href="/prx/subjects/',(o=r.id)?n=o.call(e,{hash:{},data:t}):(o=e&&e.id,n=typeof o===_?o.call(e,{hash:{},data:t}):o),i+=b(n)+'">',(o=r.label)?n=o.call(e,{hash:{},data:t}):(o=e&&e.label,n=typeof o===_?o.call(e,{hash:{},data:t}):o),(n||0===n)&&(i+=n),i+="</a></li>\n          "}function d(e,t){var r,n="";return n+='\n        <a href="'+b((r=e&&e.item,r=null==r||r===!1?r:r.urls,r=null==r||r===!1?r:r.pdf,typeof r===_?r.apply(e):r))+'" class="small button block">PDF',r=e&&e.item,r=null==r||r===!1?r:r.accessRights,r=null==r||r===!1?r:r.openaccess,r=typeof r===_?r.apply(e):r,r=$.call(e,r,{hash:{},inverse:x.noop,fn:x.program(16,f,t),data:t}),(r||0===r)&&(n+=r),n+='</a>\n        <a data-id="'+b((r=e&&e.item,r=null==r||r===!1?r:r.id,typeof r===_?r.apply(e):r))+'" data-jcode="'+b((r=e&&e.item,r=null==r||r===!1?r:r.source,r=null==r||r===!1?r:r.identifiers,r=null==r||r===!1?r:r.jcode,typeof r===_?r.apply(e):r))+'" class="reveal-export small button block">Export Citation</a>\n        '}function f(){return" (free)"}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var v,y,m,g="",_="function",w=r.helperMissing,b=this.escapeExpression,x=this,$=r.blockHelperMissing;return g+='<div class="article panel" data-id="'+b((v=t&&t.item,v=null==v||v===!1?v:v.identifiers,v=null==v||v===!1?v:v.doi,typeof v===_?v.apply(t):v))+'">\n  <div class="row">\n    <div class="large-9 columns">\n      <h6 class="tag">\n        '+b((v=t&&t.item,v=null==v||v===!1?v:v.source,v=null==v||v===!1?v:v.identifiers,v=null==v||v===!1?v:v.jcode,typeof v===_?v.apply(t):v))+"\n        ",v=t&&t.item,v=null==v||v===!1?v:v.editorialFeatures,v=null==v||v===!1?v:v.flags,v=typeof v===_?v.apply(t):v,v=$.call(t,v,{hash:{},inverse:x.noop,fn:x.program(1,i,o),data:o}),(v||0===v)&&(g+=v),g+="\n        ",y=r.gt||t&&t.gt,m={hash:{},inverse:x.noop,fn:x.program(3,s,o),data:o},v=y?y.call(t,(v=t&&t.item,v=null==v||v===!1?v:v.statistics,null==v||v===!1?v:v.num_cited_by),0,m):w.call(t,"gt",(v=t&&t.item,v=null==v||v===!1?v:v.statistics,null==v||v===!1?v:v.num_cited_by),0,m),(v||0===v)&&(g+=v),g+='\n      </h6>\n      <h5 class="title">\n        <a href="'+b((v=t&&t.item,v=null==v||v===!1?v:v.urls,v=null==v||v===!1?v:v.primary,typeof v===_?v.apply(t):v))+'">',v=t&&t.item,v=null==v||v===!1?v:v.title,v=null==v||v===!1?v:v.value,v=typeof v===_?v.apply(t):v,(v||0===v)&&(g+=v),g+="</a>\n      </h5>\n\n      ",v=r["if"].call(t,(v=t&&t.item,v=null==v||v===!1?v:v.summaries,v=null==v||v===!1?v:v.toc_authors,null==v||v===!1?v:v.value),{hash:{},inverse:x.noop,fn:x.program(5,a,o),data:o}),(v||0===v)&&(g+=v),g+="\n\n      ",v=r["if"].call(t,(v=t&&t.item,null==v||v===!1?v:v.source),{hash:{},inverse:x.noop,fn:x.program(7,l,o),data:o}),(v||0===v)&&(g+=v),g+="\n\n      ",v=t&&t.item,v=null==v||v===!1?v:v.summaries,v=null==v||v===!1?v:v["abstract"],v=typeof v===_?v.apply(t):v,v=$.call(t,v,{hash:{},inverse:x.noop,fn:x.program(10,c,o),data:o}),(v||0===v)&&(g+=v),g+="\n\n      ",v=r["if"].call(t,(v=t&&t.item,v=null==v||v===!1?v:v.classificationSchemes,null==v||v===!1?v:v.subject_areas),{hash:{},inverse:x.noop,fn:x.program(12,u,o),data:o}),(v||0===v)&&(g+=v),g+='\n    </div>\n\n    <div class="large-3 columns">\n      <span class="options">\n        ',v=r["if"].call(t,(v=t&&t.item,v=null==v||v===!1?v:v.urls,null==v||v===!1?v:v.pdf),{hash:{},inverse:x.noop,fn:x.program(15,d,o),data:o}),(v||0===v)&&(g+=v),g+="\n      </span>\n    </div>\n  </div>\n</div>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/results-title",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i="";return i+="-"+h((n=r.digitGrouping||e&&e.digitGrouping,o={hash:{},data:t},n?n.call(e,e&&e.end,o):u.call(e,"digitGrouping",e&&e.end,o)))}function s(e,t){var n,o,i="";return i+="of "+h((n=r.digitGrouping||e&&e.digitGrouping,o={hash:{},data:t},n?n.call(e,e&&e.total,o):u.call(e,"digitGrouping",e&&e.total,o)))}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var a,l,p,c="",u=r.helperMissing,h=this.escapeExpression,d=this,f="function";return c+='<div class="row">\n  <div class="large-12 columns">\n\n    <div class="panel">\n      <h2 class="">\n        Results /\n        <strong>'+h((l=r.digitGrouping||t&&t.digitGrouping,p={hash:{},data:o},l?l.call(t,t&&t.start,p):u.call(t,"digitGrouping",t&&t.start,p))),l=r.isnt||t&&t.isnt,p={hash:{},inverse:d.noop,fn:d.program(1,i,o),data:o},a=l?l.call(t,t&&t.start,t&&t.end,p):u.call(t,"isnt",t&&t.start,t&&t.end,p),(a||0===a)&&(c+=a),c+=" ",a=r["if"].call(t,t&&t.total,{hash:{},inverse:d.noop,fn:d.program(3,s,o),data:o}),(a||0===a)&&(c+=a),c+='</strong>\n      </h2>\n      <dl class="subject-list">\n        <dt>for:</dt>\n        <dd>\n          ',(l=r.query)?a=l.call(t,{hash:{},data:o}):(l=t&&t.query,a=typeof l===f?l.call(t,{hash:{},data:o}):l),c+=h(a)+'\n          <!--\n          <a href="#">',(l=r.query)?a=l.call(t,{hash:{},data:o}):(l=t&&t.query,a=typeof l===f?l.call(t,{hash:{},data:o}):l),c+=h(a)+'</a>\n          <a href="#"><i class="general foundicon-remove"></i></a>\n          -->\n        </dd>\n      </dl>\n    </div>\n  </div>\n</div>\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/results",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var i,s,a="",l="function",p=this.escapeExpression;return a+='<section id="header" class="generic has-subnav">\n  <div class="row">\n    <div class="large-12 columns">\n      <h2 class="title">Search Results</h2>\n      <ul class="journal-nav inline-list">\n        <li>\n          <a href="/search">New Search</a>\n        </li>\n        <li>\n          <a href="',(s=r.editUrl)?i=s.call(t,{hash:{},data:o}):(s=t&&t.editUrl,i=typeof s===l?s.call(t,{hash:{},data:o}):s),a+=p(i)+'">Edit Search</a>\n        </li>\n        \n      </ul>\n    </div>\n  </div>\n</section>\n\n<section id="title"></section>\n\n<section id="body" class="row panels">\n  <div class="large-3 columns" id="search-sidebar"></div>\n  <div class="large-9 columns search-results" id="search-main"></div>\n</section>\n\n<div id="export-article" class="medium reveal-modal">\n</div>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/search/templates/sidebar",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i,a="";return a+='\n          <option value="',(o=r.value)?n=o.call(e,{hash:{},data:t}):(o=e&&e.value,n=typeof o===u?o.call(e,{hash:{},data:t}):o),a+=h(n)+'" ',i={hash:{},inverse:d.noop,fn:d.program(2,s,t),data:t},(o=r.selected)?n=o.call(e,i):(o=e&&e.selected,n=typeof o===u?o.call(e,i):o),r.selected||(n=f.call(e,n,{hash:{},inverse:d.noop,fn:d.program(2,s,t),data:t})),(n||0===n)&&(a+=n),a+=">",(o=r.label)?n=o.call(e,{hash:{},data:t}):(o=e&&e.label,n=typeof o===u?o.call(e,{hash:{},data:t}):o),a+=h(n)+"</option>\n        "}function s(){return'selected="selected"'}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var a,l,p,c="",u="function",h=this.escapeExpression,d=this,f=r.blockHelperMissing;return c+='<div class="accordian-wrap">\n  <h5 class="top title open facet">Sort</h5>\n  <div class="top content">\n    <form>\n      <select name="sort">\n        ',p={hash:{},inverse:d.noop,fn:d.program(1,i,o),data:o},(l=r.sortOptions)?a=l.call(t,p):(l=t&&t.sortOptions,a=typeof l===u?l.call(t,p):l),r.sortOptions||(a=f.call(t,a,{hash:{},inverse:d.noop,fn:d.program(1,i,o),data:o})),(a||0===a)&&(c+=a),c+='\n      </select>\n    </form>\n  </div>\n</div>\n\n<div id="search-facets" class="accordion-wrap">\n\n</div>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/site-view",function(e,t,r){var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("views/templates/site"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.container="#app-wrap",t.prototype.id="site-container",t.prototype.regions={main:"#site","top-bar":"#top-bar",footer:"footer"},t.prototype.template=function(){return $("#app-wrap").length>0?i():void 0},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),$(document).foundation(),Foundation.libs.topbar.events(),$("#login-modal a.cancel").click(function(){return $(".reveal-modal.open").foundation("reveal","close")}),$("#login-modal").on("opened",function(){return $('#login-modal input[name="username"]').focus()}),this},t}(o)}),require.register("views/templates/article/export",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var i,s,a="",l="function",p=this.escapeExpression;return a+='<div class="row">\n  <div class="large-12 columns">\n    <h4>Export Article</h4>\n    <a href="#" class="small button dropdown" id="article-export-dropdown" data-dropdown="drop-format">Format</a>\n    <ul id="drop-format" class="f-dropdown" data-dropdown-content>\n      <li><a href="#" data-format="bibtex">BibTeX</a></li>\n      <li><a href="#" data-format="ris">EndNote (RIS)</a></li>\n    </ul>\n    <a href="',(s=r.downloadUrl)?i=s.call(t,{hash:{},data:o}):(s=t&&t.downloadUrl,i=typeof s===l?s.call(t,{hash:{},data:o}):s),a+=p(i)+'" id="download-citation" class="small button">Download</a>\n  </div>\n</div>\n\n<div class="row">\n  <div class="large-12 columns">\n    <form>\n      <textarea name="">Loading...</textarea>\n    </form>\n  </div>\n</div>\n<a class="close-reveal-modal">&#215;</a>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/templates/article/supplemental-material",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e){var t,r="";return r+="\n  ",t=typeof e===d?e.apply(e):e,(t||0===t)&&(r+=t),r+="\n"}function s(e){var t,r="";return r+="\n  <h5>Special Instructions</h5>\n  ",t=typeof e===d?e.apply(e):e,(t||0===t)&&(r+=t),r+="\n"}function a(e,t){var n,o,i,s="";return s+='\n  <div class="supplemental-files">\n    <div class="row supplemental-file">\n      <div class="large-2 columns">\n        <a href="'+f((n=e&&e.link,n=null==n||n===!1?n:n.url,typeof n===d?n.apply(e):n))+'" data-id="',(o=r.id)?n=o.call(e,{hash:{},data:t}):(o=e&&e.id,n=typeof o===d?o.call(e,{hash:{},data:t}):o),s+=f(n)+'" data-type="',(o=r.type)?n=o.call(e,{hash:{},data:t}):(o=e&&e.type,n=typeof o===d?o.call(e,{hash:{},data:t}):o),s+=f(n)+'"><img src="'+f((n=e&&e.thumbnail,n=null==n||n===!1?n:n.url,typeof n===d?n.apply(e):n))+'"/></a>\n      </div>\n      <div class="large-10 columns">\n        <a href="'+f((n=e&&e.link,n=null==n||n===!1?n:n.url,typeof n===d?n.apply(e):n))+'" data-id="',(o=r.id)?n=o.call(e,{hash:{},data:t}):(o=e&&e.id,n=typeof o===d?o.call(e,{hash:{},data:t}):o),s+=f(n)+'" data-type="',(o=r.type)?n=o.call(e,{hash:{},data:t}):(o=e&&e.type,n=typeof o===d?o.call(e,{hash:{},data:t}):o),s+=f(n)+'">',n=e&&e.link,n=null==n||n===!1?n:n.label,n=typeof n===d?n.apply(e):n,(n||0===n)&&(s+=n),s+="</a>\n        ",i={hash:{},inverse:v.noop,fn:v.program(6,l,t),data:t},(o=r.caption)?n=o.call(e,i):(o=e&&e.caption,n=typeof o===d?o.call(e,i):o),r.caption||(n=y.call(e,n,{hash:{},inverse:v.noop,fn:v.program(6,l,t),data:t})),(n||0===n)&&(s+=n),s+="\n      </div>\n    </div>\n  </div>\n"
}function l(e){var t,r="";return r+="\n          <p>",t=typeof e===d?e.apply(e):e,(t||0===t)&&(r+=t),r+="</p>\n        "}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var p,c,u,h="",d="function",f=this.escapeExpression,v=this,y=r.blockHelperMissing;return u={hash:{},inverse:v.noop,fn:v.program(1,i,o),data:o},(c=r.description)?p=c.call(t,u):(c=t&&t.description,p=typeof c===d?c.call(t,u):c),r.description||(p=y.call(t,p,{hash:{},inverse:v.noop,fn:v.program(1,i,o),data:o})),(p||0===p)&&(h+=p),h+="\n\n",u={hash:{},inverse:v.noop,fn:v.program(3,s,o),data:o},(c=r.special_instructions)?p=c.call(t,u):(c=t&&t.special_instructions,p=typeof c===d?c.call(t,u):c),r.special_instructions||(p=y.call(t,p,{hash:{},inverse:v.noop,fn:v.program(3,s,o),data:o})),(p||0===p)&&(h+=p),h+="\n\n",u={hash:{},inverse:v.noop,fn:v.program(5,a,o),data:o},(c=r.components)?p=c.call(t,u):(c=t&&t.components,p=typeof c===d?c.call(t,u):c),r.components||(p=y.call(t,p,{hash:{},inverse:v.noop,fn:v.program(5,a,o),data:o})),(p||0===p)&&(h+=p),h+='\n\n<div id="video-player" class="large reveal-modal"></div>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/templates/article/video-player",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i="";return i+='\n      <source src="'+u((n=e&&e.url,typeof n===c?n.apply(e):n))+'" type="',(o=r.content_type)?n=o.call(e,{hash:{},data:t}):(o=e&&e.content_type,n=typeof o===c?o.call(e,{hash:{},data:t}):o),i+=u(n)+'"/>\n    '}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,a,l,p="",c="function",u=this.escapeExpression,h=this,d=r.blockHelperMissing;return p+="<h2>",(a=r.label)?s=a.call(t,{hash:{},data:o}):(a=t&&t.label,s=typeof a===c?a.call(t,{hash:{},data:o}):a),(s||0===s)&&(p+=s),p+='</h2>\n\n<div class="flex-video">\n  <video controls>\n    ',l={hash:{},inverse:h.noop,fn:h.program(1,i,o),data:o},(a=r.variants)?s=a.call(t,l):(a=t&&t.variants,s=typeof a===c?a.call(t,l):a),r.variants||(s=d.call(t,s,{hash:{},inverse:h.noop,fn:h.program(1,i,o),data:o})),(s||0===s)&&(p+=s),p+="\n  </video>\n</div>\n\n",(a=r.caption)?s=a.call(t,{hash:{},data:o}):(a=t&&t.caption,s=typeof a===c?a.call(t,{hash:{},data:o}):a),(s||0===s)&&(p+=s),p+='\n\n<a class="close-reveal-modal">&#215;</a>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/templates/report-bug/form",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{},'<h2>Report a Bug/Provide Feedback</h2>\n\n<p>Please describe the problem below.</p>\n\n<div id="feedback-notices">\n</div>\n\n<form class="custom">\n  <div class="row">\n    <div class="large-4 columns">\n      <label>Type</label>\n      <select name="type" class="medium">\n        <option>Bug</option>\n        <option>Feedback</option>\n      </select>\n    </div>\n\n    <div class="large-8 columns">\n      <label>Your email (required)</label>\n      <input name="email" type="text"></input>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="large-12 columns">\n      <label>Description/comments</label>\n      <textarea name="comments"></textarea>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="large-12 columns">\n      <button type="submit">Submit</button>\n    </div>\n  </div>\n</form>\n\n<a class="close-reveal-modal">&#215;</a>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/templates/report-bug/status",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{},'<h2>Report a Bug/Provide Feedback</h2>\n\n<div class="alert-box success">\n  Thanks, your feedback has been sent.\n</div>\n\n<a class="close-reveal-modal">&#215;</a>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/templates/site",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{},'<div id="site"></div>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/top-bar-view",function(e,t,r){var n,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("views/base/view"),n=t("views/report-bug-view"),r.exports=o=function(e){function t(){return this.search=s(this.search,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!1,t.prototype.region="top-bar",t.prototype.el=$("#top-bar"),t.prototype.events={"submit form":"search"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),new n,this},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),$.cookie("tour_closed")||$(window).width()>768&&($("#joyride-wrap").foundation("joyride","start"),$(".joyride-close-tip, .joyride-next-tip").click(function(){return $.cookie("tour_closed",!0,{expires:7})})),this},t.prototype.search=function(){return this.$el.find("input[name='q']").val()},t}(i)}),require.register("views/tqc/templates/tqc-hold-modal",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var i,s,a="",l="function",p=this.escapeExpression;return a+="<h2>",(s=r.label)?i=s.call(t,{hash:{},data:o}):(s=t&&t.label,i=typeof s===l?s.call(t,{hash:{},data:o}):s),a+=p(i)+'</h2>\n\n<p>Please enter the reason below.</p>\n\n<form class="custom">\n  <div class="row">\n    <div class="large-12 columns">\n      <label>Reason</label>\n      <textarea name="reason"></textarea>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="large-12 columns">\n      <button type="submit">Submit</button>\n    </div>\n  </div>\n</form>\n\n<a class="close-reveal-modal">&#215;</a>'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/tqc/templates/tqc-menu",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o="";return o+="\n    ",n=r["if"].call(e,e&&e.reason_required,{hash:{},inverse:f.programWithDepth(4,a,t,e),fn:f.programWithDepth(2,s,t,e),data:t}),(n||0===n)&&(o+=n),o+="\n  "}function s(e,t,n){var o,i,s="";return s+='\n      <li><a href="'+d((o=n&&n.doi,typeof o===h?o.apply(e):o))+'" data-reveal-id="tqc-hold-modal" data-action="',(i=r.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===h?i.call(e,{hash:{},data:t}):i),s+=d(o)+'" class="small button">',(i=r.label)?o=i.call(e,{hash:{},data:t}):(i=e&&e.label,o=typeof i===h?i.call(e,{hash:{},data:t}):i),s+=d(o)+"</a></li>\n    "}function a(e,t,n){var o,i,s="";return s+='\n      <li><a href="'+d((o=n&&n.doi,typeof o===h?o.apply(e):o))+'"  data-action="',(i=r.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===h?i.call(e,{hash:{},data:t}):i),s+=d(o)+'" class="small button">',(i=r.label)?o=i.call(e,{hash:{},data:t}):(i=e&&e.label,o=typeof i===h?i.call(e,{hash:{},data:t}):i),s+=d(o)+"</a></li>\n    "}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var l,p,c,u="",h="function",d=this.escapeExpression,f=this,v=r.blockHelperMissing;return u+='<h4>QC Actions</h4>\n<ul class="button-group">\n  ',c={hash:{},inverse:f.noop,fn:f.program(1,i,o),data:o},(p=r.actions)?l=p.call(t,c):(p=t&&t.actions,l=typeof p===h?p.call(t,c):p),r.actions||(l=v.call(t,l,{hash:{},inverse:f.noop,fn:f.program(1,i,o),data:o})),(l||0===l)&&(u+=l),u+="\n<ul>"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/tqc/templates/tqc-message",function(e,t,r){var n=Handlebars.template(function(e,t,r,n,o){function i(e,t){var n,o,i="";return i+='\n  <div class="alert-box">\n    Article placed on hold by ',(o=r.login)?n=o.call(e,{hash:{},data:t}):(o=e&&e.login,n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=d(n)+" on ",(o=r.date)?n=o.call(e,{hash:{},data:t}):(o=e&&e.date,n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=d(n)+": ",(o=r.comment)?n=o.call(e,{hash:{},data:t}):(o=e&&e.comment,n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=d(n)+"\n  </div>\n"}function s(e,t){var n,o,i="";return i+='\n  <div class="alert-box alert">\n    Error: ',(o=r.comment)?n=o.call(e,{hash:{},data:t}):(o=e&&e.comment,n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=d(n)+"\n  </div>\n"}function a(e,t){var n,o,i="";return i+='\n  <div class="alert-box" style="background-color: #FFF79A; color: black">\n    Warning: ',(o=r.comment)?n=o.call(e,{hash:{},data:t}):(o=e&&e.comment,n=typeof o===h?o.call(e,{hash:{},data:t}):o),i+=d(n)+"\n  </div>\n"}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var l,p,c,u="",h="function",d=this.escapeExpression,f=this,v=r.blockHelperMissing;return c={hash:{},inverse:f.noop,fn:f.program(1,i,o),data:o},(p=r.hold)?l=p.call(t,c):(p=t&&t.hold,l=typeof p===h?p.call(t,c):p),r.hold||(l=v.call(t,l,{hash:{},inverse:f.noop,fn:f.program(1,i,o),data:o})),(l||0===l)&&(u+=l),u+="\n",c={hash:{},inverse:f.noop,fn:f.program(3,s,o),data:o},(p=r.error)?l=p.call(t,c):(p=t&&t.error,l=typeof p===h?p.call(t,c):p),r.error||(l=v.call(t,l,{hash:{},inverse:f.noop,fn:f.program(3,s,o),data:o})),(l||0===l)&&(u+=l),u+="\n",c={hash:{},inverse:f.noop,fn:f.program(5,a,o),data:o},(p=r.warning)?l=p.call(t,c):(p=t&&t.warning,l=typeof p===h?p.call(t,c):p),r.warning||(l=v.call(t,l,{hash:{},inverse:f.noop,fn:f.program(5,a,o),data:o})),(l||0===l)&&(u+=l),u+='\n\n<div class="alert-box">\n  Article status is ',(p=r.status)?l=p.call(t,{hash:{},data:o}):(p=t&&t.status,l=typeof p===h?p.call(t,{hash:{},data:o}):p),u+=d(l)+"\n</div>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof r&&r&&r.exports&&(r.exports=n)}),require.register("views/tqc/tqc-hold-modal-view",function(e,t,r){var n,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("./templates/tqc-hold-modal"),r.exports=n=function(e){function t(){return this.opened=s(this.opened,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.autoRender=!1,t.prototype.template=i,t.prototype.el=$("#tqc-hold-modal"),t.prototype.events={open:"opened","submit form":"submit"},t.prototype.opened=function(){return this.render(),this.$el.foundation("forms"),this},t.prototype.submit=function(e){return e.preventDefault(),this.model.set("reason",this.$el.find("textarea[name='reason']").val()),$(".close-reveal-modal").click(),this.model.doAction("hold",{success:function(e){return function(){return e.publishEvent("tqcArticleStateChange")}}(this),error:function(){return function(e,t){return console.log("ACTION ERROR",t.status,t.statusText)}}(this)})},t}(o)}),require.register("views/tqc/tqc-menu-view",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=t("views/base/view"),n=t("./tqc-hold-modal-view"),r.exports=o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,e),r.prototype.autoRender=!0,r.prototype.template=t("./templates/tqc-menu"),r.prototype.events={"click a":"clickAction"},r.prototype.afterAction=function(){var e;return e=this.model.get("lastAction"),"delete"===e?document.location.href="/qc":this.model.fetch({success:function(e){return function(){return e.render()}}(this)})},r.prototype.initialize=function(){return new n({model:this.model}),this.subscribeEvent("tqcArticleStateChange",this.afterAction)},r.prototype.clickAction=function(e){var t;return e.preventDefault(),t=$(e.target).data("action"),this.model.set("lastAction",t),"hold"!==t?this.model.doAction(t,{success:function(e){return function(){return e.publishEvent("tqcArticleStateChange")}}(this),error:function(e){return function(t,r){return e.publishEvent("tqcArticleStateChange"),console.log("ACTION ERROR",r.status,r.statusText)}}(this)}):void 0},r}(i)}),require.register("views/tqc/tqc-message-view",function(e,t,r){"use strict";var n,o,i,s={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=t("views/base/view"),i=t("./templates/tqc-message"),r.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.autoRender=!0,t.prototype.template=i,t.prototype.initialize=function(){return this.subscribeEvent("tqcArticleStateChange",function(){return this.model.clear,this.model.fetch({reset:!0,success:function(e){return function(){return e.render()}}(this)})}),this.subscribeEvent("tqcArticleApproved",function(){return this.model.set("approved",!0)({success:function(e){return function(){return e.render()}}(this)})})},t}(o)});