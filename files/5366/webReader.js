window.ReadSpeakerDefer={deferred:null,clickhandler:function(a){if(!window.ReadSpeakerDefer.deferred){a=a||window.event;var b=a.target||a.srcElement;if(3===b.nodeType&&(b=b.parentNode),b!==document&&window.ReadSpeakerDefer.isRSLink(b)){var c=!0;if(rspkr.item("general.confirmPolicy")&&(confirm(rspkr.item("general.confirmPolicy"))||(c=!1)),c){window.ReadSpeakerDefer.deferred=b;var d=window.ReadSpeakerDefer.findRSParent(b);d&&d.className&&!/rsdeferred/i.test(d.className)&&(d.className+=" rsdeferred"),window.ReadSpeakerJIT&&(window.rspkr.createAudio(),window.rspkr.loadCore())}return a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1}}},init:function(){this.RSDeferClick(document)},isRSLink:function(a){return this.isRSParent(a.parentNode)||a.href&&a.href.indexOf("readspeaker.com/cgi-bin/rsent")>-1},isRSParent:function(a){return a&&a!==document?a.getAttribute("class")&&a.getAttribute("class").indexOf("rsbtn")>-1||a.id&&"string"==typeof a.id&&a.id.indexOf("readspeaker_button")>-1||this.isRSParent(a.parentNode):!1},findRSParent:function(a){for(;a.parentNode&&a.parentNode!==document&&(a=a.parentNode,"a"!==a.tagName.toLowerCase()||!this.isRSLink(a)););return a===document?void 0:a.parentNode},RSDeferClick:function(a){a.addEventListener?a.addEventListener("click",this.clickhandler,!1):a.attachEvent?a.attachEvent("onclick",this.clickhandler):a.onclick=this.clickhandler}},window.readpage=function(a,b,c){return rspkr.item("general.confirmPolicy")&&!confirm(rspkr.item("general.confirmPolicy"))?!1:(window.ReadSpeakerDefer.deferred={href:a,target:b,options:c},window.ReadSpeakerJIT&&(window.rspkr.createAudio(),window.rspkr.loadCore()),!1)},window.ReadSpeakerDefer.init(),function(a){function b(){var b=a.ReadSpeaker,c=b.params,d=c&&"1"===c.notools;b.features={detachment:!1,dictionary:!d,dictionary_toolbar:!1,download:!0,download_player:!1,enlarge:!0,help:!0,loaderplayer:!0,loaderscreen:!0,pagemask:!0,popupplayback:!0,progressbar:!0,readhover:!0,seekbar:!1,settings:!0,scrollcontrols:!0,skipbuttons:!0,speedbutton:!0,tapread:!0,textmode:!0,tooltips:!0,translation:!d,translation_toolbar:!1,voicesettings:!1};var e=c.disable?c.disable.split(","):[];document.documentMode&&document.documentMode<9&&e.push("readhover","textmode","pagemask");for(var f=0;f<e.length;f++)"lookup"===e[f]&&(e[f]="dictionary"),"simpleview"===e[f]&&(e[f]="textmode"),b.features[e[f]]=!1;if(c.enable)for(var g=c.enable.split(","),h=0;h<g.length;h++)"lookup"===g[h]?b.features.dictionary=!0:b.features[g[h]]=!0;var i=a.rsConf&&a.rsConf.ui&&a.rsConf.ui.tools?a.rsConf.ui.tools:{};for(var j in i)"lookup"===j?b.features.dictionary=i.lookup:b.features[j]=i[j];b.features.dictionary&&(b.features.dictionary_toolbar=!1),b.features.translation&&(b.features.translation_toolbar=!1),b.features.download&&(b.features.download_player=!1),b.item("ui.displayDownload")===!1&&(b.features.download=!1)&&(b.features.download_player=!1),b.item("ui.enableDetachment")===!0&&(b.features.detachment=!0),b.item("ui.disableDetachment")===!0&&(b.features.detachment=!1)}var c=function(){var b={major:"3",minor:"1",update:"5",revision:"880",prod:"wr"},c="ReadSpeaker",d="r/r880/",e=[],f=0,g=0,h=!1,i=[],j={},k=0,l=[],m=[],n=!1,o=!1,p=0,q=!1,r=null,s="default",t=!1,u=[],v=!1,w=!1,x="",y={},z="",A=null,B=!1,C=[],D="",E=[],F=function(b){if("string"==typeof b){b="ReadSpeaker."+b.replace("_",".");for(var c=b.split("."),d=a,e=0,f=c.length;f>e;e++){if(!d)return!1;if(!d[c[e]])return!1;if(e===f-1)return d[c[e]];d=d[c[e]]}return!1}},G=function(b,c,d){if(a.ReadSpeaker.pub)return a.ReadSpeaker.pub.Config.item(b,c,d);if(a.rsConf){b=b.split(".");for(var e=a.rsConf,f=0;f<b.length;f++){if(!e||!e.hasOwnProperty(b[f]))return void 0;e=e[b[f]]}return e}return void 0},H=function(a){function b(a){rspkr.log("[rspkr.setCoreLoaded] Done loading module "+a),i.push(a);for(var b in j)if(j[b].length)for(var c,d=j[b].length-1;c=j[b][d];d--)if((c===a||K(c))&&j[b].splice(d,1),0===j[b].length){rspkr.log("[rspkr.setCoreLoaded] All dependencies for "+b+" have been loaded. Resuming its initiation."),i.push(b);var e=F(b);e.init.apply(e,[])}}a=a.replace("_",".");var c=e[a]===!1?[a]:e[a];f++;for(var d,g=0;d=c[g];g++){var h=F(d);if("function"==typeof h.init)if(h.dependency){if(!K(h.dependency)){rspkr.log("[rspkr.setCoreLoaded] Dependencies for "+d+" ("+h.dependency+") are not yet loaded. Putting it on hold."),j[d]=h.dependency.constructor===Array?h.dependency:[h.dependency];for(var k,l=j[d].length-1;k=j[d][l];l--)K(k)&&j[d].splice(l,1);continue}h.init.apply(h,[])}else h.init.apply(h,[]);b(d)}f===Object.size(e)&&(rspkr.Common.addEvent("onModsLoaded",function(){rspkr.pub.Config.setup(),rspkr.ds.unload(),rspkr.c.Detect.init(),rspkr.popup.init()}),v=!0,I("rsmod_lib.RSLib"))},I=function(a){i.push(a);var b=F(a);"function"==typeof b.init&&b.init.apply(b,[]),L()},J=function(b,c,d){if(d=void 0!==d,!d){i.push(b),k++,c=c||[b];for(var e=0,f=c.length;f>e;e++)try{var j=F(c[e]);"function"==typeof j.init&&j.init.apply(j,[])}catch(l){fa("[rspkr] Could not load: "+c[e]+" | "+l,3)}}if(k===g&&h===!0){fa("[rspkr] All prod mods loaded. _domready = "+q,4),B&&a.ReadSpeaker.loadInit(),a.ReadSpeaker.Common.addEvent("onReady",function(){rspkr.devt("onBeforeQueueExecuted",a),Z.executeCode(),Z.flush(),rspkr.devt("onAfterQueueExecuted",a),A&&ia()});var m=function(){rspkr.Common.createShortcuts(),rspkr.devt("onModsLoaded",a),rspkr.devt("onAfterModsLoaded",a),rspkr.devt("onReady",a),a.ReadSpeaker.ui.viewport={width:$rs.width(a),height:$rs.height(a)}};q?m():a.ReadSpeaker.Common.addEvent("onDOMReady",m)}},K=function(a){a.constructor===Array||(a=[a]);for(var b,c=0,d=0;b=i[d];d++)for(modsIndex=0,mod;mod=a[modsIndex];modsIndex++)if(b===mod){c++;break}return c===a.length},L=function(){if(v&&a.ReadSpeaker.modmap&&!n){for(var b=a.ReadSpeaker.modmap,e=[],f=0,i="|",j=[],k=0,l=u.length;l>k;k++)if(e=b.products&&"function"==typeof b.products[u[k]]?b.products[u[k]]():null){f=0;for(var m=0,o=e.length;o>m;m++)-1===i.indexOf("|"+e[m][0]+e[m][1]+"|")&&(e[m][0].length&&(j[e[m][0]]=e[m][2],$.load({id:"rsmod_"+e[m][0],type:e[m][1],src:(e[m][2]&&e[m][2]===!0?c:d+c)+"."+e[m][0]+("text/css"===e[m][1]?".css":".js"),cb:function(){var b=(a.event&&a.event.srcElement&&a.event.srcElement.id?a.event.srcElement.id:this.id).replace("rsmod_","");J(b,j[b])},async:!0})),"undefined"!=typeof e[m][1]&&/text\/javascript/.test(e[m][1])&&f++,i+=e[m][0]+e[m][1]+"|");g+=f}h=!0,0===e.length&&J(null,null,!0)}},M=function(){var b,f;if(a.rsConf&&a.rsConf.params&&"string"==typeof a.rsConf.params)b=a.rsConf.params,f=b.split("?");else{var g=document.getElementsByTagName("script"),h=g[g.length-1];b=h.getAttribute("src"),f=b.split("?")}if(/\?/i.test(b)&&f.length>1&&f[1].length){z=b.replace(/[^\/]*$/,""),x=ga();var i=Y.extract(f[1]),j=Y.extract(f[1]);if(r=i,s=i.skin||"default",u=i.pids.split(","),r.path=f[0].replace(/webReader\.js|ReadSpeaker\.js/i,""),r.mobile=r.mobile&&"1"===r.mobile?!0:!1,r.forceAdapter=r.forceAdapter||!1,"wr30skin"===s&&(r.forceAdapter="html5"),"0"!==j.mobile&&/ios|iphone|ipad|ipod|android|windows phone/i.test(navigator.userAgent)&&(!r.mmax||a.innerWidth<(r.mmax||768))&&(r.mobile=!0),e["pub.Config"]=!1,r.mobile?(D="-Mobile",E.push("rs_mobile"),e["Mobile-"+N().toLowerCase()]=["lib.Facade","Common","modmap","PlayerAPI","HL","Common.Settings","ui","ui.Slider","ui.Tools","ui.Lightbox","Mobile.Common"]):e.Core=["lib.Facade","Common","modmap","PlayerAPI","HL","Common.Settings","ui","ui.Slider","ui.Lightbox","ui.DragDrop","ui.Tools","ui.Detach","ui.ScrollControls","ui.Accessibility","ui.LoadIndicator"],A=r.autoplay,B=a.ReadSpeakerJIT="0"!==r.jit,r.notools&&"1"===r.notools||m.push(S.toggler.add),r.noDefaultSkin&&"1"===r.noDefaultSkin||$.load({id:"rsmod_Styles",type:"text/css",src:d+c+".Styles"+(B?"-Button":"")+".css",cb:null}),"default"!==s&&(m.push(R),$.load({id:"rsskin_"+s+"_style",type:"text/css",src:"skins/"+s+"/"+s+".css",cb:null}),$.load({id:"rsskin_"+s+"_js",type:"text/javascript",src:"skins/"+s+"/"+s+".js",cb:null,async:!0})),r.dload&&r.dload.length){var k,l,o=r.dload.split(",");for(k=0,l=o.length;l>k;k++){var p="customCss"===o[k];$.load({id:"rsdloaded_"+_(),type:p?"text/css":"text/javascript",src:c+"."+(p?"Custom.css":o[k]+".js"),cb:null})}}E.length&&m.push(O),(!B||P())&&Q()}else n=!0},N=function(){if("string"==typeof r.forceAdapter&&r.forceAdapter.length){if("ioshtml5"!==r.forceAdapter)return r.forceAdapter;if(/apple/i.test(navigator.vendor)&&/ios|iphone|ipad|ipod/i.test(navigator.userAgent))return r.noLazyLoad=!0,r.forceAdapter="html5";r.forceAdapter=!1}return a.AudioContext||a.webkitAudioContext?"webAudio":"html5"},O=function(){for(var a=U(),b=0,c=a.length;c>b;b++)$rs.addClass(a[b],E.join(" "))},P=function(){function a(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return void 0}return"1"===a("_rspkrLoadCore")},Q=function(){if(!o&&!w){if(w=!0,B&&(!r.noDefaultSkin||"1"!==r.noDefaultSkin)){var b=document.getElementById("rsmod_Styles");b&&b.parentElement.removeChild(b),$.load({id:"rsmod_Styles",type:"text/css",src:d+c+".Styles"+(D.length?D:"")+".css",cb:null})}for(var f in e)e.hasOwnProperty(f)&&(mod=f,$.load({id:"req_"+mod,type:"text/javascript",src:("pub.Config"===mod?c:d+c)+"."+mod+".js",cb:function(b){var c=a.event&&a.event.srcElement&&a.event.srcElement.id?a.event.srcElement.id:b;c&&H(c.replace("req_",""))},async:!0}))}},R=function(){rspkr.log("[rspkr.updateBaseClass] Attempting to update..");for(var a=document.getElementsByTagName("div"),b=/\brsbtn\b/,c=0,d=a.length;d>c;c++)b.test(a[c].className)&&(a[c].className=a[c].className.replace(b,"rsbtn "+s.toLowerCase()));rspkr.log("[rspkr.updateBaseClass] Update successful!")},S={isLoaded:!1,isTogglerAdded:!1,toggler:{add:function(){if("1"!==r.notools&&!rspkr.mobile())for(var a,b,c=U("rs_addtools"),d=0,e=c.length;e>d;d++)if(c[d]&&c[d].className&&-1===c[d].className.indexOf("rs_notools")&&!c[d].querySelectorAll(".rsbtn_tooltoggle").length){a=document.createElement("div");var f=rspkr.findHref(),g=f?rspkr.getParam("lang",f):void 0,h=rspkr.getPhrase("toggletoolbar",g);a.innerHTML='<button type="button" class="rsbtn_tooltoggle" title="%tgl%" style="display:none" aria-expanded="false"><i class="rsicn rsicn-arrow-down" aria-hidden="true"></i><span class="rsbtn_btnlabel" style="width: 0px; height: 0px;">%tgl%</span></button>'.replace(/%tgl%/g,h),c[d].appendChild&&(b=c[d].appendChild(a.childNodes[0]),c[d].id&&c[d].id.length||(c[d].id=rspkr.getID()),$rs.setAttr(b,"data-rs-container",c[d].id),$rs.regEvent(b,"mouseover focus",S.toggler.events.over),$rs.regEvent(b,"mouseout blur",S.toggler.events.out),$rs.regEvent(b,"click",S.toggler.events.click),rspkr.accessKeys=rspkr.accessKeys||{},rspkr.accessKeys[1]||(b.accessKey="1",rspkr.accessKeys[1]=1),S.isTogglerAdded=!0)}},events:{over:function(a){rspkr.preventDefault(a),S.zoomTogglerIn(document.getElementById($rs.getAttr(this,"data-rs-container")))},out:function(a){rspkr.preventDefault(a),S.zoomTogglerOut(document.getElementById($rs.getAttr(this,"data-rs-container")))},click:function(a){rspkr.preventDefault(a),S.load.apply(this,[a])}}},load:function(b){var c=this;b&&b.type&&b.type.indexOf("mouse")>-1?C[$rs.getAttr(c,"data-rsevent-id")]=a.setTimeout(function(){S.dispatch(c)},500):S.dispatch(c)},loadCancel:function(){C[$rs.getAttr(this,"data-rsevent-id")]&&a.clearTimeout(C[$rs.getAttr(this,"data-rsevent-id")])},dispatch:function(a){o?(S.afterLoad.apply(a,[!0]),S.open.apply(a,[])):(Q(),l.push(function(){S.afterLoad.apply(a,[!0]),rspkr.ui.addTools(),S.open.apply(a,[])}))},afterLoad:function(){for(var a,b=U("rs_addtools"),c=function(a){$rs.unregEvent(this,"mouseleave"),$rs.regEvent($rs.closest(a,".rsbtn_tools"),"mouseleave",function(){$rs.unregEvent(this,"mouseleave"),S.close.apply(this,[])})},d=0,e=b.length;e>d;d++)a=$rs.findIn(b[d],".rsbtn_tooltoggle"),a&&(S.isLoaded=!0,S.loadCancel(),$rs.unregEvent(a,"click"),$rs.regEvent(a,"click",S.toggle),rspkr.Common.addEvent("onToolClicked",c),rspkr.Common.addEvent("onConfigSetup",function(){for(var a,b=$rs.arr(".rsbtn_tooltoggle"),c=rspkr.cfg.getPhrase("toggletoolbar"),d=rspkr.cfg.getPhrase("toolbarwebreader"),e=0;a=b[e];e++)a.setAttribute("title",c),a.querySelectorAll(".rsbtn_btnlabel")[0].innerHTML=d}))},open:function(b){rspkr.ui.Tools.accessibility.isAccessKey(b)&&(rspkr.ui.Tools.accessibility.storeSelection(),rspkr.c.addEvent("onAfterToolsOpen",function(){rspkr.ui.Tools.accessibility.restoreSelection(),rspkr.c.clearEvent("onAfterToolsOpen",rspkr.ui.Tools.accessibility.restoreSelection)}));var c=S.getPlayerContainer(this),d=$rs.findIn(c,".rsbtn_toolpanel");if(($rs.isArray(d)&&!d.length||"undefined"==typeof d)&&(d=rspkr.u.addTools()),!d)throw"Could not find toolpanel!";if(!$rs.getAttr(d,"data-full-width")){$rs.hasClass(c,"rsdetached")&&(c.style.width="1000px"),d.style.display="block";var e=$rs.width($rs.findIn(d,".rsbtn_tools"))+5;d.style.display="",$rs.hasClass(c,"rsdetached")&&(c.style.width=""),$rs.setAttr(d,"data-full-width",e),d.style.width=e+"px",d.style.minWidth=e+"px"}S.zoomTogglerIn.apply(this,[c]),$rs.hasClass(c,"toolsopen")||(rspkr.devt("onBeforeToolsOpen","__self__",[c]),$rs.addClass(c,"toolsopen"),rspkr.devt("onAfterToolsOpen","__self__",[c])),$rs.setAttr($rs.findIn(c,".rsbtn_tooltoggle"),"aria-expanded","true");var f=$rs.findIn(c,".rsbtn_tooltoggle");if($rs.isArray(d)&&(d=d[0]),a.getComputedStyle){var g=document.defaultView.getComputedStyle(d).getPropertyValue("z-index");$rs.css(f,"z-index",parseInt(g)+1)}if(d.getAttribute("data-uilang")&&d.getAttribute("data-uilang")!==rspkr.u.getLang())for(var h,i,j=$rs.findIn(d,".rsbtn_tool"),k=0;h=j[k];k++){var i=h.getAttribute("data-phrase");if(i){var l=rspkr.st.r().expandPhrase(i,d.getAttribute("data-uilang")),m=$rs.findIn(h,".rsbtn_btnlabel")?$rs.findIn(h,".rsbtn_btnlabel").innerHTML:null;$rs.setAttr(h,"title",l),m&&(m.innerHTML=l)}}},close:function(a){rspkr.ui.Tools.accessibility.isAccessKey(a)&&(rspkr.ui.Tools.accessibility.storeSelection(),rspkr.c.addEvent("onAfterToolsClose",function(){rspkr.ui.Tools.accessibility.restoreSelection(),rspkr.c.clearEvent("onAfterToolsClose",rspkr.ui.Tools.accessibility.restoreSelection)}));var b=S.getPlayerContainer(this);rspkr.devt("onBeforeToolsClose","__self__",[b]),$rs.removeClass(b,"toolsopen"),rspkr.devt("onAfterToolsClose","__self__",[b]),$rs.setAttr($rs.findIn(b,".rsbtn_tooltoggle"),"aria-expanded","false")},toggle:function(a){rspkr.preventDefault(a),S.isLoaded&&($rs.hasClass(S.getPlayerContainer(this),"toolsopen")?S.close.apply(this,[a]):S.open.apply(this,[a]))},getPlayerContainer:function(b){return $rs.closest(b,"."+(a.rspkr&&a.rspkr.u&&a.rspkr.u.rsbtnClass||"rsbtn")+",.rs_addtools")},zoomTogglerIn:function(a){$rs.addClass(a,"zoom-tooltoggler")},zoomTogglerOut:function(a){$rs.removeClass(a,"zoom-tooltoggler")}},T=function(){var b,c,d,e,f,g=39,h=30,i=30,j=function(){if(!f){var b=rspkr.item("general.popupCloseTime")||2e3;f=a.setTimeout(function(){o(void 0,!0)},b)}},k=function(){f&&(a.clearTimeout(f),f=null)},m=function(b){var c={},d=rspkr.ui?rspkr.ui.pointerX:a.ReadSpeaker.ds.pointerX,e=rspkr.ui?rspkr.ui.pointerY:a.ReadSpeaker.ds.pointerY,f=b.clientX+$rs.scrollLeft(document)||b.pageX||d,j=b.clientY+$rs.scrollTop(document)||b.pageY||e;return j>e||/OPR\//gi.test(navigator.userAgent)?j-$rs.scrollTop(document)+h>$rs.height(a)-(h+10)?c.top=j-(h+i):c.top=j+i:j-$rs.scrollTop(document)-(h+i)<10?c.top=j+i:c.top=j-(h+i/2),f-$rs.scrollLeft(document)<10?c.left=f+10:f-$rs.scrollLeft(document)>$rs.width(a)-(g+10)?c.left=$rs.width(a)+$rs.scrollLeft(document)-(g+10):c.left=f+0,c},n=function(c,d,e){if(!(rspkr.mobile()||rspkr.st&&"iconon"!==rspkr.st.get("hlicon")||"iconoff"===rspkr.item("settings.hlicon"))){if(!rspkr.findHref()||!rspkr.getRSBtns().length&&!rspkr.findExpContainer())return void rspkr.log("[showPopup] No href. Aborting popup.",3);if(!(rspkr.ui&&rspkr.ui.Tools&&rspkr.ui.Tools.ReadHover&&rspkr.ui.Tools.ReadHover.active())){for(var f,i=["rslightbox_contentcontainer","rs_overlay","rsmask-top"],l=0;f=i[l];l++){var n=document.getElementById(f);if(n&&$rs.isVisible(n))return}var o;d?o=d:rspkr.c?o=rspkr.c.data.selectedText:a.getSelection&&(o=a.getSelection().toString());var q=e||o.length;if(0!==q.length&&o!==rspkr.popup.lastSelectedText){if(rspkr.popup.lastSelectedText=o,!b){var r=rspkr.features,t=rspkr.getParam("lang",rspkr.findHref());if(b=document.createElement("div"),b.className="rspopup"+("default"!==s?" "+s:""),markup="",!r.popupplayback&&!r.dictionary&&!r.translation)return;r.popupplayback&&(markup+='<div class="rspopup_play rspopup_btn" tabindex="1"><span>%</span></div>'.replace("%",rspkr.getPhrase("d",t,"en_us"))),r.dictionary&&(markup+='<div class="rspopup_dictionary rspopup_btn" tabindex="2"><span>%</span></div>'.replace("%",rspkr.getPhrase("b",t,"en_us"))),r.translation&&(markup+='<div class="rspopup_translation rspopup_btn" tabindex="3"><span>%</span></div>'.replace("%",rspkr.getPhrase("a",t,"en_us"))),b.innerHTML=markup,document.body.appendChild(b),g=$rs.outerWidth(b),h=$rs.outerHeight(b),r.popupplayback&&$rs.regEvent(b.querySelector(".rspopup_play"),"mousedown",function(){p(void 0,1)}),r.dictionary&&$rs.regEvent(b.querySelector(".rspopup_dictionary"),"mousedown",function(){p(void 0,3)}),r.translation&&$rs.regEvent(b.querySelector(".rspopup_translation"),"mousedown",function(){p(void 0,2)}),rspkr.popup.container.popup=b}var u=m(c);$rs.css(b,{left:u.left+"px",top:u.top+"px",zIndex:rspkr.u?rspkr.u.utils.getMaxZ(!0)+10:1e3}),rspkr.popup.container.langpicker&&rspkr.popup.container.langpicker.close(),$rs.css(b,"display","block"),k(),j(),$rs.regEvent(b,"mouseover",k),$rs.regEvent(b,"mouseout",j);var v=Array.prototype.slice.call(b.querySelectorAll(".rspopup_btn"));$rs.regEvent(v,"focus",k),$rs.regEvent(v,"blur",j)}}}},o=function(a,c){function d(b){for(var c=a.target;c&&c!==document.body;){if(/rspopup_translation/gi.test(c.className))return!0;c=c.parentElement}return!1}(c||!(e||!b||a&&a.target&&d(a.target)))&&($rs.css(b,"display","none"),k(a))},p=function(a,c){if(rspkr.preventDefault(a),rspkr.pl)rspkr.popup.runPopup(a,b,c);else{if(rspkr.item("general.confirmPolicy")&&!confirm(rspkr.item("general.confirmPolicy")))return o(),!1;rspkr.loadCore(),l.push(function(){rspkr.popup.runPopup(a,b,c)})}},q=function(a){e=a?!0:void 0},r=function(){return e};return{init:function(){rspkr.c.addEvent("onSelectedText",n),rspkr.c.addEvent("onSelectedText",q.bind(void 0,!0)),rspkr.c.addEvent("onDeselectedText",q.bind(void 0,!1)),document.body.addEventListener("click",o),rspkr.log("[rspkr.Popup] Heartbeat!")},container:{popup:b,langpicker:c},lastSelectedText:d,newTextSelected:r,closePopup:o,showPopup:n}}(),U=function(a){var b="default"===s?"rsbtn":"rsbtn."+s.toLowerCase(),c=[];if(document.querySelectorAll)a=a?",."+a:"",c=document.querySelectorAll("."+b+a);else{a=a?"|"+a+"\\b":"";for(var d=document.getElementsByTagName("div"),e=new RegExp(b+"\\b"+a,"i"),f=0,g=d.length;g>f;f++)d[f]&&d[f].className&&e.test(d[f].className)&&c.push(d[f])}return c},V=function(){if(rspkr.cfg&&rspkr.cfg.item("general.popupHref"))return rspkr.cfg.item("general.popupHref");if(rspkr.item("general.popupHref"))return rspkr.item("general.popupHref");for(var a,b=rspkr.getRSBtns(),c=0;a=b[c];c++){var d=a.querySelectorAll(".rsbtn_play");if(d.length&&d[0].href)return d[0].href}if(document.querySelectorAll){for(var a,e=document.querySelectorAll(".rs_href"),f=0;a=e[f];f++){if(a.href)return a.href;if(a.getAttribute("data-href"))return a.getAttribute("data-href")}for(var g,d=document.querySelectorAll('a[href*="readspeaker.com"]'),h=0;g=d[h];h++)if(/rsent?/gi.test(g.href))return g.href}return null},W=function(){var a=rspkr.item("general.selectionPlayer");if(a&&$rs&&ja.Sizzle){var b=$rs.arr(a);if(b.length)return b[0]}else if(a&&document.querySelectorAll){var b=document.querySelectorAll(a);if(b.length)return b[0]}var c=document.querySelectorAll(".rs_exp");return c.length?c[0]:null},X=function(){Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}},Y={extract:function(a){if("string"==typeof a){for(var b,c={},d=a.split(/[;&]/),e=0;e<d.length;e++)b=d[e].split("="),b&&2===b.length&&(c[unescape(b[0])]=unescape(b[1]).replace(/\+/g," "));return c}return{}},set:function(a,b,c){var d=new RegExp("([\\?&|&amp;]"+a+"=)[^&$]*","gi");return d.test(c)?c.replace(d,"$1"+b):c+"&"+a+"="+b},get:function(a,b){var c=new RegExp(a+"=([^&]*)","i"),d=b.match(c);return null!==d&&d.length>0?d[1]:null}},Z={isok:!0,executeCode:function(b){var c="jit"===b?m:l;if(this.isok=!0,!c.length)return!0;for(idx in c)if(c.hasOwnProperty(idx)&&"function"==typeof c[idx])try{c[idx].apply(a,[])}catch(d){this.isok=!1,rspkr.log("[rspkr.q] "+d,3)}},flush:function(a){var b=a=m;b=[]}},$={load:function(c){var d={tjs:"text/javascript",tcss:"text/css"};if(c.type==d.tjs||c.type==d.tcss){c.src=r.path+c.src;var e=document.getElementsByTagName("head")[0],f=c.type==d.tjs?"script":"link",g=document.createElement(f),h=[b.major,b.minor,b.update,b.revision].join(".");"function"==typeof c.cb&&(void 0!==g.onreadystatechange?g.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&c.cb.apply(a,[c.id])}:g.onload=function(){c.cb.apply(a,[c.id])}),g.id=c.id.replace(".","_"),g.type=c.type,c.type==d.tjs?(g.src=c.src+"?v="+h,c.async&&(g.async=!0)):(g.rel="stylesheet",g.href=c.src+"?v="+h),c.type===d.tcss&&document.createStyleSheet?document.createStyleSheet(g.href):e.appendChild(g)}},jsonpLoad:function(a){var b=document.createElement("script");b.id=a.id||"rsjsonploaded_"+_(),b.src=a.src,b.async=!0,document.body.appendChild(b)}},_=function(){return"readspeaker"+p++},aa=0,ba={1:[],2:[],3:[],4:[],5:[],6:[]},ca=function(a){rspkr.log("[rspkr.printErrorLog]",1);for(var a=a||"3",b=a.split(","),c=0;c<b.length;c++)ba.hasOwnProperty(b[c])&&da(ba[b[c]],b[c])},da=function(a,b){b=parseInt(b)||3;var c=ea[b].lbl;console.groupCollapsed&&console.groupCollapsed(c);for(var d=0;d<a.length;d++)try{console[ea[b].method]&&console[ea[b].method](a[d])}catch(e){}console.groupCollapsed&&console.groupEnd()},ea={1:{lbl:"Info",method:"log"},2:{lbl:"Warn",method:"warn"},3:{lbl:"Err",method:"error"},4:{lbl:"AS",method:"log"},5:{lbl:"SW",method:"log"}},fa=function(a,b){var c=(document.location.href,x);if(b=b||1,ba[b].push(a),c&&"string"==typeof c&&c.indexOf(","+b+",")>-1){var d=ea[b].lbl;try{console[ea[b].method]&&console[ea[b].method](aa++ +". "+d+": "+a)}catch(e){}}},ga=function(){var a;if(/rsdebug=rsdebug/i.test(document.location.href))try{a=","+document.location.href.split("?").pop().match(/rsdebug=rsdebug([^$|&]*)/i).pop()+","}catch(b){a=",3,"}else a="";return a},ha=function(a){x=/^,[0-9,]*,$/.test(a)?a:","+a+","},ia=function(){rspkr.log("[rspkr.startAutoplay] Id: "+A);var b=$rs.get(A);if($rs.isArray(b)&&b.length)b=b[0];else if($rs.isArray(b)&&!b.length)return!1;var c=$rs.findIn(b,"a");if($rs.isArray(c)&&c.length)c=c[0];else if($rs.isArray(c)&&!c.length)return!1;a.readpage(c)},ja=function(){this.meta={obj:b,version:function(){return[b.major,b.minor,b.update].join(".")+"_rev"+b.revision+"-"+b.prod}()},this.q=function(b){"function"==typeof b&&(y.onReady?b.apply(a,[]):l.push(b))},this.loadInit=function(){return document.readyState&&"loading"===document.readyState?void setTimeout(function(){rspkr.log("[rspkr.loadInit] Postponing myself for 100 ms, DOM is not ready yet."),rspkr.loadInit()},100):void(o||(o=!0,document.addEventListener&&document.removeEventListener("DOMContentLoaded",a.ReadSpeaker.init,!1),q=!0,a.ReadSpeaker.Common&&a.ReadSpeaker.Common.dispatchEvent("onDOMReady"),fa("[rspkr] DOM Ready!"),t&&(fa("[rspkr] Updating base class.",1),R()),rspkr.Common&&rspkr.Common.data&&"function"==typeof rspkr.Common.data.setRegion&&"function"==typeof rspkr.Common.data.setWrapiUrl&&(rspkr.Common.data.setRegion(),rspkr.Common.data.setWrapiUrl()),S.afterLoad()))},this.init=function(){rspkr.disp.executeCode("jit"),rspkr.disp.flush("jit"),a.ReadSpeakerJIT||rspkr.loadInit(),rspkr.DeferSelection.init(),rspkr.addToggler();for(var b,c=rspkr.getRSBtns(),d=0;b=c[d];d++){var e=b.querySelectorAll(".rsbtn_play")[0];$rs.setAttr(e,"aria-expanded",!1)}for(var c=rspkr.getRSBtns(),f=c.length&&rspkr.getParam("lang",rspkr.findHref()),g=0;g<c.length;g++){var h=c[g].querySelectorAll(".rsbtn_text")[0],i=h?h.getElementsByTagName("span")[0]:void 0;if(h&&i){$rs.setAttr(i,"aria-hidden",!0);var j=document.createElement("span");j.className="rsbtn_btnlabel",j.innerHTML=rspkr.getPhrase("e",f,"en_us"),h.appendChild(j)}}if(c.length){var k=document.createElement("div");k.innerHTML='<button tabindex="-1" accesskey="k" class="rsbtn_focusforward" aria-hidden="true"><span class="">Focus</span></button>',$rs.regEvent(k.childNodes[0],"click",function(a){$rs.findIn(c[0],".rsbtn_play").focus()}),c[0].appendChild(k.childNodes[0])}document.documentMode&&document.documentMode<9&&$rs.addClass(document.body,"legacy")},this.createAudio=function(){if(!a.rspkr.audio&&rspkr.mobile()){if("html5"===N())this.createHTML5Audio();else{if("webAudio"!==N())return!1;this.createWebAudio()}return!0}return!1},this.createHTML5Audio=function(){return a.rspkr.audio=new Audio,a.rspkr.audio.muted=!0,a.rspkr.audio.load(),!0},this.createWebAudio=function(){a.rspkr.audio=new(a.AudioContext||a.webkitAudioContext),a.rspkr.audio.resume().then(function(){a.rspkr.audio.suspend().then(function(){})})},this.addToggler=S.toggler.add,this.getLoadedMods=function(){return i},this.rsidCount=1e3,this.logcount=0,this.log=function(a,b){fa(a,b||1)},this.showLog=function(a){ca(a||"1")},this.getID=function(){return _()},this.getVersion=function(){return this.meta.version},this.skin=s,this.disp=Z,this.displog=y,this.params=r,this.extractParams=Y.extract,this.setParam=Y.set,this.getParam=Y.get,this.setDebugLevel=ha,this.baseUrl=z,this.loadCore=Q,this.audio=null,this.getRSBtns=U,this.findHref=V,this.findExpContainer=W,this.rsload=$,this.tools=S,this.popup=T,this.notools=function(){return r.notools&&"1"===r.notools?!0:!1},this.mobile=function(){return r.mobile&&r.mobile===!0?!0:!1},this.preventDefault=function(b){b=b||a.event,b&&(b.originalEvent&&(b=b.originalEvent),b.cancelBubble=!0,b.returnValue=!1,b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation())},this.item=G};return X(),M(),new ja}();a.ReadSpeaker=a.rs=a.rspkr=c,b()}(window),ReadSpeaker.enums={mime:{tjs:"text/javascript",tcss:"text/css",thtml:"text/html"}},function(a){var b=navigator.userAgent,c="%CC_ON%",d=setTimeout;/mozilla/i.test(b)&&!/(compati)/.test(b)||/opera/i.test(b)||/webkit/i.test(b)||document.documentMode&&document.documentMode>8?document.addEventListener("DOMContentLoaded",a,!1):c?!function(){var b=document.createElement("doc:rdy");try{b.doScroll("left"),a(),b=null}catch(c){d(arguments.callee,0)}}():window.onload=a}(function(){rspkr.init()}),ReadSpeaker.phrases=["0a%D8%A7%D9%84%D9%82%D8%A7%D9%85%D9%88%D8%B3","0b%D8%A7%D9%84%D8%A8%D8%AD%D8%AB%20%D8%B9%D9%86%20%D9%83%D9%84%D9%85%D8%A9","0c%D9%81%D8%AA%D8%AD%20%2F%20%D8%A5%D8%BA%D9%84%D8%A7%D9%82%20%D8%B4%D8%B1%D9%8A%D8%B7%20%D8%A7%D9%84%D8%A3%D8%AF%D9%88%D8%A7%D8%AA","0d%D8%A7%D8%B3%D8%AA%D9%85%D8%B9","0e%D8%A7%D9%84%D8%A5%D8%B3%D8%AA%D9%85%D8%A7%D8%B9%20%D9%85%D8%B9%20%D9%88%D9%8A%D8%A8%D8%B1%D9%8A%D8%AF%D8%B1","1a%C3%9Cbersetzung","1bW%C3%B6rterbuch","1c%C3%96ffnen%20%2F%20schlie%C3%9Fen%20Sie%20die%20Werkzeugleiste","1dVorlesen","1eMit%20webReader%20vorlesen%20lassen","2a@4a","2b@4b","2c@4c","2d@4d","2e@4e","3a@4a","3b@4b","3c@4c","3d@4d","3e@4e","4aTranslation","4bDictionary","4cOpen%2Fclose%20toolbar","4dListen","4eListen%20with%20webReader","5a@7a","5b@7b","5c@7c","5d@7d","5e@7e","6a@7a","6b@7b","6c@7c","6d@7d","6e@7e","7aTraducci%C3%B3n","7bDiccionario","7cAbrir%2Fcerrar%20la%20barra%20de%20herramientas","7dEscuchar","7eEscuchar%20con%20webReader","8a@7a","8b@7b","8c@7c","8d@7d","8e@7e","9a@7a","9b@7b","9c@7c","9d@7d","9e@7e","10aK%C3%A4%C3%A4nn%C3%B6s","10bSanakirja","10cAvaa%2Fsulje%20ty%C3%B6kalupalkki","10dKuuntele","10eKuuntele%20WebReaderill%C3%A4","11aUmseting","11bOr%C3%B0ab%C3%B3k","11cOpna%2Floka%20t%C3%B3lbj%C3%A1lka","11dLurta","11eLurta%20vi%C3%B0%20webReader","12a@14a","12b@14b","12c@14c","12d@14d","12e@14e","13a@14a","13b@14b","13c@14c","13d@14d","13e@14e","14aTraduction","14bDictionnaire","14cAfficher%2FFermer%20barre%20d%27outils","14dEcouter","14eEcoutez%20avec%20webReader","15a%C3%9E%C3%BD%C3%B0ing","15bOr%C3%B0ab%C3%B3k","15cOpna%2Floka%20t%C3%A6kjastiku","15dHlusta","15eHlusta%20me%C3%B0%20webReader","16aTraduzione","16bDizionario","16cApri%2FChiudi%20la%20barra%20degli%20strumenti","16dAscolta","16eAscolta%20con%20webReader","17a%E7%BF%BB%E8%A8%B3","17b%E8%BE%9E%E6%9B%B8","17b%E3%83%AF%E3%83%BC%E3%83%89%E3%83%AB%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97","17c%E3%83%84%E3%83%BC%E3%83%AB%E3%83%90%E3%83%BC%E3%82%92%E9%96%8B%E3%81%8F%2F%E9%96%89%E3%81%98%E3%82%8B","17d%E8%AA%AD%E3%81%BF%E4%B8%8A%E3%81%92%E3%82%8B","17ewebReader%E3%81%A7%E8%81%B4%E3%81%8F","18a%EB%B2%88%EC%97%AD","18b%EC%82%AC%EC%A0%84","18c%ED%88%B4%EB%B0%94%20%EC%97%B4%EA%B8%B0%2F%EB%8B%AB%EA%B8%B0","18d%EC%9D%BD%EA%B8%B0","18ewebReader%EB%A1%9C%20%EB%93%A3%EA%B8%B0","19a@20a","19b@20b","19c@20c","19d@20d","19e@20e","20aVertalen","20bWoordenboek","20cTaakbalk%20openen%2Fsluiten","20dLees%20Voor","20eLuister%20met%20webReader","21aOversettelse","21bOrdbok","21c%C3%85pne%2Flukk%20verkt%C3%B8ylinje","21dLytt","21eLytt%20med%20webReader","22aT%C5%82umaczenie","22bS%C5%82ownik","22cPoka%C5%BC%2Fukryj%20pasek%20narz%C4%99dzi","22dPos%C5%82uchaj","22ePos%C5%82uchaj%20z%20webReaderem","23a@24a","23b@24b","23c@24c","23d@24d","23e@24e","24aTradu%C3%A7%C3%A3o","24bDicion%C3%A1rio","24cAbrir%2FFechar%20Barra%20de%20Ferramentas","24dOuvir","24eOuvir%20com%20o%20webReader","25a@26a","25b@26b","25c@26c","25d@26d","25e@26e","26a%C3%96vers%C3%A4ttning","26bOrdbok","26c%C3%96ppna%2Fst%C3%A4ng%20verktygspanelen","26dLyssna","26eLyssna%20med%20webReader","27a%E7%BF%BB%E8%AF%91","27b%E8%AF%8D%E5%85%B8","27c%E6%89%93%E5%BC%80%2F%E5%85%B3%E9%97%AD%E5%B7%A5%E5%85%B7%E6%A0%8F","27d%E6%9C%97%E8%AF%BB","27e%E4%BD%BF%E7%94%A8%20webReader%20%E6%94%B6%E5%90%AC"],ReadSpeaker.mapLang=function(a){var b="ar_ar,de_de,en_au,en_uk,en_us,es_419,es_co,es_es,es_mx,es_us,fi_fi,fo_fo,fr_be,fr_ca,fr_fr,is_is,it_it,ja_jp,ko_kr,nl_be,nl_nl,no_nb,pl_pl,pt_br,pt_pt,sv_fi,sv_se,zh_cn".split(",");if(!isNaN(a))return b[a];for(var c,d=0;c=b[d];d++)if(a===c||2===a.length&&c.substring(0,2)===a)return d},ReadSpeaker.mapPhrase=function(a){for(var b,c=["translation","dictionary","toggletoolbar","listen","listenwebreader"],d=["a","b","c","d","e"],e=a.length>1?c:d,f=0;b=e[f];f++)if(b===a)return a.length>1?d[f]:c[f]},ReadSpeaker.getPhrase=function(a,b,c,d){if(!a)return void 0;if(ReadSpeaker.pub&&!d&&!rspkr.phrases)return!isNaN(b)&&(b=this.mapLang(b)),1===a.length&&(a=this.mapPhrase(a)),ReadSpeaker.pub.Config.getPhrase(a,b,c);c=c||"en_us",isNaN(b)&&(b=this.mapLang(b)),!b&&(b=this.mapLang(c)),a.length>1&&(a=this.mapPhrase(a));for(var e,f=b+a,g=0;e=rspkr.phrases[g];g++){if(e.substring(0,f.length+1)===f+"@"){var h=e.substring(f.length+1),i=String(parseInt(h)),j=h.substring(i.length);return rspkr.getPhrase(j,i,c)}if(e.substring(0,f.length)===f)return decodeURIComponent(e.substring(f.length))}},rspkr.lib||(rspkr.lib={}),rspkr.lib.Facade=function(a){var b=function(a,b,c){a=String(a),c=String(c),b="="==b?"==":b;for(var d,e,f=a.split("."),g=c.split("."),h=Math.max(f.length,g.length),i=0,j=0;h>j&&!i;j++)d=parseInt(f[j],10)||0,e=parseInt(g[j],10)||0,e>d&&(i=1),d>e&&(i=-1);switch(b){case"==":return 0==i;case"===":return 0===i;case"!=":return 0!=i;case"!==":return 0!==i;case"<":return i>0;case"<=":return i>=0;case">":return 0>i;case">=":return 0>=i;default:return!1}},c=[{name:"jquery",minver:"1.4.1",check:function(){if("function"==typeof jQuery){if("explorer"===rspkr.Common.data.browser.name.toLowerCase()&&rspkr.Common.data.browser.version<9&&b(jQuery.fn.jquery,"<",2))return!1;if(b(jQuery.fn.jquery,">=",this.minver))return!0}return!1;
}}],d={name:"RSLib",minver:"1.0"},e="",f=function(){if(rspkr&&rspkr.params&&rspkr.params.forceRSLib&&"1"===rspkr.params.forceRSLib)e=d.name;else{for(idx in c)if(c[idx]&&c[idx].check&&c[idx].check()){e=c[idx].name;break}e.length||(e=d.name)}},g=function(){a.$rs.flatten=function(a,b){b=b||[];for(var c,d=0;c=a[d];d++)$rs.isArray(c)?$rs.flatten(c,b):b.push(c);return b}},h={store:[],push:function(a,b,c){return this.store[a]||(this.store[a]=[]),this.store[a][b]||(this.store[a][b]=[]),this.store[a][b].push(c),this.store.length},pop:function(a,b,c){var d;if(this.store[a]&&this.store[a][b]){if(d=this.store[a][b],!c)return this.store[a][b].splice(0,this.store[a][b].length),0;for(var e=d.length-1;e>-1;e--)d[e]&&d[e].toString()===c.toString()&&this.store[a][b].splice(e,1);return this.store[a][b].length}return 0},dispatch:function(a,b){var c=$rs.convertEvent(a,b);if(rsid=$rs.getAttr(c.target,"data-rsevent-id"),rsid){for(var d=!0,e=h.store[rsid][c.type],f=0,g=e.length;g>f;f++)"function"==typeof e[f]&&(e[f].apply(c.target,[c])||(d=!1));return d}}};return{init:function(){f()},currentLib:function(){return e},setLib:function(a){e=a},eq:h,adapterInit:function(b){a.$rs=b,g()}}}(window),ReadSpeaker.lib.Facade.RSEvent=function(){},ReadSpeaker.lib||(ReadSpeaker.lib={}),ReadSpeaker.lib.RSLib=function(){var a={revision:"880"},b={core_pnum:function(){return/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source},rposition:function(){return/^(top|right|bottom|left)$/},rmargin:function(){return/^margin/},rnumsplit:function(){return new RegExp("^("+this.core_pnum+")(.*)$","i")},rnumnonpx:function(){return new RegExp("^("+this.core_pnum+")(?!px)[a-z%]+$","i")},rmsPrefix:function(){return/^-ms-/},rdashAlpha:function(){return/-([\da-z])/gi}},c={_formatRet:function(a){return a.length?1===a.length?a[0].length&&"object"==typeof a[0]&&!a[0].tagName?a[0][0]:a[0]:a:[]},get:function(a){return!a||"string"==typeof a&&!a.length||"#"===a?[]:"object"==typeof a?a:document.getElementById(a)||this._formatRet(window.ReadSpeaker.Sizzle(a))},arr:function(a){var b=this.get(a);return this.isArray(b)?b:[b]},findIn:function(a,b){return"string"==typeof a&&(a=this.get(a)),this._formatRet(window.ReadSpeaker.Sizzle(b,a))},closest:function(a,b){var c=!1,d=null,e=null,f=null,g=a;if("string"==typeof a&&(g=a=this.get(a)),f=$rs.findIn(g.parentNode,b),f===g)return g;for(;!c&&g!==document.body&&g&&g.parentNode&&(e=g.parentNode,e&&e.parentNode)&&(d=g.parentNode.parentNode);){if(f=$rs.findIn(d,b),f&&f===e){c=!0;break}if(f&&$rs.isArray(f)&&f.length)for(var h=0,i=f.length;i>h;h++)if(f[h]&&f[h]===e){c=!0,f=f[h];break}g=e}return c?f:void 0},getAttr:function(a,b){return"string"==typeof a&&(a=this.get(a)),"style"===b?a.style.cssText.toLowerCase()||void 0:a.getAttribute?a.getAttribute(b):a[b]?a[b]:void 0},setAttr:function(a,b,c){"string"==typeof a&&(a=this.get(a)),this.isArray(a)||(a=[a]);for(var d=0,e=a.length;e>d;d++)"style"===b?a[d].style.cssText=c:a[d].setAttribute?a[d].setAttribute(b,c):a[d][b]=c;return c},regEvent:function(a,b,c){var e,f,g,h,i=b.split(" ");"string"==typeof a&&(a=this.get(a)),this.isArray(a)||(a=[a]);for(var j=0,k=a.length;k>j;j++)for(g=0,h=i.length;h>g;g++)b=i[g],f=a[j],e=this.getAttr(f,"data-rsevent-id")||"rs_"+Math.round(1e6*Math.random()),this.setAttr(f,"data-rsevent-id",e),d.push(e,b,c),d.store[e]&&d.store[e][b]&&d.store[e][b].length>1||_addEvent(a[j],b,d.dispatch)},unregEvent:function(a,b,c){if(a){var e,f,g,h,i,j=b.split(" ");"string"==typeof a&&(a=this.get(a)),this.isArray(a)||(a=[a]);for(var k=0,l=a.length;l>k;k++)for(h=0,i=j.length;i>h;h++)if(b=j[h],e=a[k],f=this.getAttr(e,"data-rsevent-id"),c)g=d.pop(f,b,c),g||_removeEvent(a[k],b,d.dispatch);else if(_removeEvent(a[k],b,d.dispatch),f&&b&&d.store[f]){d.store[f][b]=void 0;try{delete d.store[f][b]}catch(m){}}}},fireEvent:function(a,b){return!1},width:function(a){return"string"==typeof a&&(a=this.get(a)),_getSize(a,"width")},height:function(a){return"string"==typeof a&&(a=this.get(a)),_getSize(a,"height")},innerWidth:function(a){"string"==typeof a&&(a=this.get(a));var b=parseFloat(_getCss(a,"border-left-width"))+parseFloat(_getCss(a,"border-right-width"));return _getSize(a,"width")-b},innerHeight:function(a){"string"==typeof a&&(a=this.get(a));var b=parseFloat(_getCss(a,"border-top-width"))+parseFloat(_getCss(a,"border-bottom-width"));return _getSize(a,"height")-b},outerWidth:function(a,b){if("string"==typeof a&&(a=this.get(a)),a&&a.style){var c=b?parseFloat(_getCss(a,"margin-left"))+parseFloat(_getCss(a,"margin-right")):0;return _getSize(a,"width")+c}return null},outerHeight:function(a,b){if("string"==typeof a&&(a=this.get(a)),a&&a.style){var c=b?parseFloat(_getCss(a,"margin-top"))+parseFloat(_getCss(a,"margin-bottom")):0;return _getSize(a,"height")+c}return null},offsetParent:function(a){"string"==typeof a&&(a=this.get(a));for(var b=/absolute|relative|fixed/i,c=a;c!==document.body&&(c=c.parentNode,!c.style||!b.test(_getCss(c,"position"))););return c||document.body},offset:function(a,b){"string"==typeof a&&(a=this.get(a));var c=document.body,d=document.defaultView||window,e=document.documentElement,f=document.createElement("div");if(a===document.body){var g=c.offsetTop,h=c.offsetLeft;return/explorer/i.test(rspkr.c.data.browser.name)&&rspkr.c.data.browser.version<8||(g+=parseFloat(_getCss(c,"marginTop"))||0,h+=parseFloat(_getCss(c,"marginLeft"))||0),{top:g,left:h}}f.style.paddingLeft=f.style.width="1px",c.appendChild(f);var i=2==f.offsetWidth;c.removeChild(f),f=a.getBoundingClientRect();var j=e.clientTop||c.clientTop||0,k=e.clientLeft||c.clientLeft||0,l=d.pageYOffset||i&&e.scrollTop||c.scrollTop,m=d.pageXOffset||i&&e.scrollLeft||c.scrollLeft;return{top:f.top+l-j,left:f.left+m-k}},absOffset:function(a){return this.offset(a)},position:function(a){return"string"==typeof a&&(a=this.get(a)),!1},scrollLeft:function(a,b){return"string"==typeof a&&(a=this.get(a)),_scrollXY("scrollLeft","pageXOffset",a,b)},scrollTop:function(a,b){return"string"==typeof a&&(a=this.get(a)),_scrollXY("scrollTop","pageYOffset",a,b)},addClass:function(a,b){"string"==typeof a&&(a=this.get(a)),this.isArray(a)||(a=[a]);for(var c,d=0,e=a.length;e>d;d++)a[d]&&!new RegExp("\\b"+b+"( |$)").test(a[d].className)&&(c=_trim(a[d].className+" "+b).replace(/ {2,}/g," ").split(" "),a[d].className=c.join(" "))},removeClass:function(a,b){if(a){"string"==typeof a&&(a=this.get(a)),this.isArray(a)||(a=[a]);for(var c,d=0,e=a.length;e>d;d++){c=_trim(b).replace(/ {2,}/g," "),newClassName=_trim(a[d].className),this.isArray(c)||(c=c.split(" "));for(var f=0,g=c.length;g>f;f++)newClassName=newClassName.replace(new RegExp("\\b"+c[f]+"\\b","gi"),"");a[d].className=_trim(newClassName).replace(/ {2,}/g," ")}}},hasClass:function(a,b){if("string"==typeof a&&(a=this.get(a)),!a||this.isArray(a)&&!a.length)return!1;for(var c=a.className.split(" "),d=0,e=c.length;e>d;d++)if(c[d]==b)return!0;return!1},css:function(a,b,c){if("string"==typeof a&&(a=this.get(a)),"object"!=typeof b&&!c)return _getCss(a,_camelCase(b));var d={};"string"==typeof b?d[_camelCase(b)]=c:d=b,$rs.isArray(a)||(a=[a]);for(var e in d)if(d.hasOwnProperty(e))for(var f=0,g=a.length;g>f;f++)a[f].style[_camelCase(e)]=d[e]},show:function(a){var b=this.getAttr(a,"data-rslib-prev-display")||"block";this.setAttr(a,"data-rslib-prev-display",""),this.css(a,"display",b)},hide:function(a){"string"==typeof a&&(a=this.get(a));var b=this.css(a,"display");"none"!==b&&(this.setAttr(a,"data-rslib-prev-display",b),this.css(a,"display","none"))},isVisible:function(a){for(;a!==document.body;){if(!a)return!1;if("none"===this.css(a,"display"))return!1;a=a.parentNode}return!0},addStyleRule:function(a,b,c){var d="string"==typeof c?document.styleSheets[c]||document.getElementById(c):c;d.addRule?d.addRule(a,b):d.sheet.insertRule&&d.sheet.insertRule(a+" {"+b+"}",d.sheet.cssRules.length)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},rsid:function(a){if(""===this.getAttr(a,"data-rsid")||void 0===this.getAttr(a,"data-rsid")||null===this.getAttr(a,"data-rsid")){var b=ReadSpeaker.rsidCount++;this.setAttr(a,"data-rsid",b)}return this.getAttr(a,"data-rsid")},detach:function(a){return a.parentNode.removeChild(a)},convertEvent:function(a,b){a=a||window.event;var c=new ReadSpeaker.lib.Facade.RSEvent;return c.pageX=a.pageX||a.clientX+$rs.scrollLeft(document),c.pageY=a.pageY||a.clientY+$rs.scrollTop(document),c.screenX=a.screenX,c.screenY=a.screenY,c.clientX=a.clientX,c.clientY=a.clientY,c.target=a.currentTarget||b,c.type=a.type,c.keyCode=a.keyCode,c.targetTouches=a.targetTouches,c.originalEvent=a,c},clone:function(a,b,c){return b=b||!1,c=c||!1,a.cloneNode(c)},camel:function(a){return _camelCase(a)},remove:function(a){for(var b=this.arr(a),c=[],d=0,e=b.length;e>d;d++)b[d].parentElement&&b[d].parentElement.removeChild&&c.push(b[d].parentElement.removeChild(b[d]));return c||[]},replaceWith:function(a,b){return _formatRet(jQuery(a).replaceWith(b))},focus:function(a,b){void 0!==b?this.focusIn(a,b):(a=this.get(a),this.isArray(a)&&a.length>0?a[0].focus?a[0].focus():a[0].setActive&&a[0].setActive():a.focus?a.focus():a.setActive&&a.setActive())},focusIn:function(a,b){if(a=this.get(a),this.isArray(a)&&a.length>0)for(var c=0;c<a.length;c++)void 0!==b&&_addEvent(a[c],"focus",b);else void 0!==b&&_addEvent(a,"focus",b)},focusOut:function(a,b){if(a=this.get(a),this.isArray(a)&&a.length>0)for(var c=0;c<a.length;c++)void 0!==b&&_addEvent(a[c],"blur",b);else void 0!==b&&_addEvent(a,"blur",b)},createElm:function(a,b){if(b=b||{},!a||"string"!=typeof a)return void 0;var c=document.createElement(a);if(b.cls&&(c.className=b.cls),b.id&&this.setAttr(c,"id",b.id),b.content&&"string"==typeof b.content&&(c.innerHTML=b.content),b.content&&"object"==typeof b.content&&c.appendChild(b.content),b.href&&"string"==typeof b.href&&(c.href=b.href),b.click&&"function"==typeof b.click&&this.regEvent(c,"click",b.click),b.attributes&&"object"==typeof b.attributes)for(var d in b.attributes)this.setAttr(c,d,b.attributes[d]);return b.parent&&"object"==typeof b.parent&&!this.isArray(b.parent)&&b.parent.appendChild(c),c}},d=null;return _getWindow=function(a){return null!==a&&a===a.window?a:9===a.nodeType?a.defaultView||a.parentWindow:!1},_camelCase=function(a){return a.replace(b.rmsPrefix(),"ms-").replace(b.rdashAlpha(),_fcamelCase)},_fcamelCase=function(a,b){return(b+"").toUpperCase()},_trim=function(a){return a.replace(/^ +/,"").replace(/ +$/,"")},_getCss=window.getComputedStyle?function(a,b){return window.getComputedStyle(a,null)[_camelCase(b)]||!1}:function(a,c){var d,e,f=a.currentStyle&&a.currentStyle[c],g=a.style;return null===f&&g&&g[c]&&(f=g[c]),b.rnumnonpx().test(f)&&!b.rposition().test(c)&&(d=g.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===c?"1em":f,f=g.pixelLeft+"px",g.left=d,e&&(a.runtimeStyle.left=e)),""===f?"auto":f},_getSize=function(a,b){var c="width"==b?"Width":"Height";if(a!==window&&a!==document){var d=a["offset"+c];return(isNaN(d)||!d)&&(d=_getCss(a,b)),isNaN(d),parseInt(d)}try{if(a===window)return window["inner"+c]||document.documentElement["client"+c]||document.body["client"+c];if(a===document)return document.body["client"+c]}catch(e){return rspkr.log("[RSLib._getSize] Error: "+e.message,3),0}},_scrollXY=function(a,b,c,d){var e=/X/.test(b),f=_getWindow(c);return void 0===d?f?b in f?f[b]:f.document.documentElement[a]||document&&document.body&&document.body[a]:c[a]:void(f?f.scrollTo(e?$rs.scrollLeft(f):d,e?d:$rs.scrollTop(f)):c[a]=d)},_addEvent=document.addEventListener?function(a,b,c){a.addEventListener&&a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent&&a.attachEvent("on"+b,function(b){c(b,a)})},_removeEvent=document.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},{meta:a,init:function(){d=ReadSpeaker.lib.Facade.eq,ReadSpeaker.lib.Facade.adapterInit(c),ReadSpeaker.log("[rspkr.l.RSLib] Initialized.")}}}(),ReadSpeaker.lib.RSLib.init(),function(a){var b=function(){var c={browser:{name:"",flashVersion:"",version:"",OS:"",html5AudioFormat:"",html5Support:!1,html5Priority:!1,syncContainer:"",webAudioSupport:!1,fetchSupport:!1},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chromium",identity:"Chromium"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",versionSearch:"Version",identity:"Safari"},{prop:a.opera,versionSearch:"Version",identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"MSIE",versionSearch:"MSIE",identity:"Explorer"},{test:function(){return/trident\//i.test(navigator.userAgent)&&!(!document.uniqueID&&!a.MSInputMethodContext)},versionSearch:"rv",identity:"Explorer"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Gecko",versionSearch:"rv",identity:"Mozilla"},{string:navigator.userAgent,subString:"Mozilla",versionSearch:"Mozilla",identity:"Netscape"}],dataOS:[{string:navigator.platform,subString:"ARM",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],browserSettings:{Android:{minver:4},Explorer:{syncContainer:"font"},Firefox:{minver:6},Opera:{html5Support:!1,priority:!1},Edge:{audioFormat:"mp3"}}},d=function(){try{if(document.selection){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(b){return"6,0,0"}}catch(b){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){}}catch(b){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){}}return"0,0,0"},e=function(a){for(var b=0;b<a.length;b++){if(this.versionSearchString=a[b].versionSearch||a[b].identity,a[b].test&&a[b].test())return a[b].identity;var c=a[b].string,d=a[b].prop;if(c){if(-1!==c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},f=function(a){var b=a.indexOf(this.versionSearchString);if(-1!==b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},g=function(){return"function"==typeof a.fetch},h=function(){return!(!a.AudioContext&&!a.webkitAudioContext)},i=function(){rspkr.log("[rspkr.br] Initialized!");var a=navigator.userAgent;c.browser.name=e(c.dataBrowser)||"Unknown",c.browser.version=f(a)||f(navigator.appVersion)||"Unknown",c.browser.OS=e(c.dataOS)||"Unknown",c.browser.flashVersion=d(),rspkr.log("[rspkr.br.init] Flash: "+c.browser.flashVersion,1);var b=c.browser.name;if(c.browserSettings.hasOwnProperty(c.browser.name)||(c.browserSettings[b]={}),rspkr.pub&&"default"!==rspkr.pub.Config.item("general.syncContainer")?c.browser.syncContainer=rspkr.pub.Config.item("general.syncContainer"):c.browserSettings[b].hasOwnProperty("syncContainer")?c.browser.syncContainer=c.browserSettings[b].syncContainer:c.browser.syncContainer="rs:span",c.browserSettings[b].hasOwnProperty("html5Support")?c.browser.html5Support=c.browserSettings[b].html5Support:document.createElement("audio").canPlayType&&(c.browser.html5Support=!0),c.browser.html5Support===!0){var i=document.createElement("audio"),j=!1,k=!1;i.canPlayType&&(j=i.canPlayType("audio/mpeg"),k=i.canPlayType('audio/ogg; codecs="vorbis"')),rspkr.log("mp3 support? "+j,1),rspkr.log("ogg support? "+k,1),/android/i.test(rspkr.Common.data.browser.OS)&&j?c.browser.html5AudioFormat="mp3":/android/i.test(c.browser.OS)?c.browser.html5AudioFormat="ogg":""!==j?c.browser.html5AudioFormat="mp3":""!==k?c.browser.html5AudioFormat="ogg":c.browser.html5Support=!1,c.browserSettings[b].hasOwnProperty("html5Priority")?c.browser.html5Priority=c.browserSettings[b].priority:c.browser.html5Priority=!0,c.browserSettings[b].hasOwnProperty("audioFormat")&&(c.browser.html5AudioFormat=c.browserSettings[b].audioFormat)}c.browserSettings[b].hasOwnProperty("minver")&&parseFloat(c.browser.version)<=parseFloat(c.browserSettings[b].minver)&&(c.browser.html5Priority=!1),c.browser.webAudioSupport=h(),c.browser.fetchSupport=g()};return new(b=function(){this.init=i,this.info=c.browser})}();a.ReadSpeaker.Browser=a.ReadSpeaker.br=b}(window),function(a){var b=function(){var b,c,d,e=function(e){return b=e,a.getSelection?(c=a.getSelection().toString(),d=c.length):document.selection?(c=document.selection.createRange().text,d=c.length):document.getSelection&&(c=document.getSelection().toString(),d=c.length),d>0?ReadSpeaker.popup.showPopup(b,c,d):ReadSpeaker.popup.closePopup(b),!0},f=function(b){return setTimeout(function(){a.ReadSpeaker.DeferSelection.saveSelection(b)},50),!0},g=function(){return b},h=function(b){a.ReadSpeaker.ds.pointerX=b.pageX,a.ReadSpeaker.ds.pointerY=b.pageY},i=function(){var b=navigator.userAgent,c=a.ReadSpeaker.DeferSelection;b&&(/iphone|ipad|ios|android|windows phone/i.test(b.OS)||b.toLowerCase().match("android"))?($rs.regEvent(document.body,"touchend",c.saveSelection),$rs.regEvent(document,"selectionchange",c.saveSelection)):(b.toLowerCase().match("opera")?($rs.regEvent(document.body,"mouseup",c.saveSelectionOpera),$rs.regEvent(a,"mouseup",c.saveSelectionOpera)):($rs.regEvent(document.body,"mouseup",c.saveSelection),$rs.regEvent(a,"mouseup",c.saveSelection)),$rs.regEvent(document.body,"keyup",c.saveSelection)),$rs.regEvent(document.body,"mousedown",c.saveMousePosition)},j=function(){var c=a.ReadSpeaker.DeferSelection;$rs.unregEvent(document.body,"touchend",c.saveSelection),$rs.unregEvent(document,"selectionchange",c.saveSelection),$rs.unregEvent(document.body,"mouseup",c.saveSelectionOpera),$rs.unregEvent(a,"mouseup",c.saveSelectionOpera),$rs.unregEvent(document.body,"mouseup",c.saveSelection),$rs.unregEvent(a,"mouseup",c.saveSelection),$rs.unregEvent(document.body,"keyup",c.saveSelection),$rs.unregEvent(document.body,"mousedown",c.saveMousePosition),rspkr&&rspkr.c.data.setSelectedText&&rspkr.c.data.setSelectedText(b)},k=function(){this.saveSelectionOpera=this.sso=f,this.saveSelection=this.ss=e,this.saveMousePosition=this.smp=h,this.getSelection=this.gs=g,this.unload=j,this.init=i};return new k}();a.ReadSpeaker.DeferSelection=a.ReadSpeaker.ds=b}(window);