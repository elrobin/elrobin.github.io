(function(){function toAttributeString(){var s="";for(var key in this)"function"!=typeof this[key]&&(s+=key+'="'+this[key]+'" ');return s}function toFlashvarsString(){var s="";for(var key in this)"function"!=typeof this[key]&&(s+=key+"="+encodeURIComponent(this[key])+"&");return s.replace(/&$/,"")}var $$;$$=jQuery.fn.flash=function(htmlOptions,pluginOptions,replace,update){var block=replace||$$.replace;if(pluginOptions=$$.copy($$.pluginOptions,pluginOptions),!$$.hasFlash(pluginOptions.version))if(pluginOptions.expressInstall&&$$.hasFlash(6,0,65))var expressInstallOptions={flashvars:{MMredirectURL:location,MMplayerType:"PlugIn",MMdoctitle:jQuery("title").text()}};else{if(!pluginOptions.update)return this;block=update||$$.update}return htmlOptions=$$.copy($$.htmlOptions,expressInstallOptions,htmlOptions),this.each(function(){block.call(this,$$.copy(htmlOptions))})},$$.copy=function(){for(var options={},flashvars={},i=0;arguments.length>i;i++){var arg=arguments[i];void 0!=arg&&(jQuery.extend(options,arg),void 0!=arg.flashvars&&jQuery.extend(flashvars,arg.flashvars))}return options.flashvars=flashvars,options},$$.hasFlash=function(){if(/hasFlash\=true/.test(location))return!0;if(/hasFlash\=false/.test(location))return!1;for(var pv=$$.hasFlash.playerVersion().match(/\d+/g),rv=([arguments[0],arguments[1],arguments[2]]+"").match(/\d+/g)||($$.pluginOptions.version+"").match(/\d+/g),i=0;3>i;i++){if(pv[i]=parseInt(pv[i]||0),rv[i]=parseInt(rv[i]||0),pv[i]<rv[i])return!1;if(pv[i]>rv[i])return!0}return!0},$$.hasFlash.playerVersion=function(){try{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{axo.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}}return"0,0,0"},$$.htmlOptions={height:240,flashvars:{},pluginspage:"http://www.adobe.com/go/getflashplayer",src:"#",type:"application/x-shockwave-flash",width:320},$$.pluginOptions={expressInstall:!1,update:!0,version:"6.0.65"},$$.replace=function(htmlOptions){this.innerHTML='<div class="alt">'+this.innerHTML+"</div>",jQuery(this).addClass("flash-replaced").prepend($$.transform(htmlOptions))},$$.update=function(){var url=(location+"").split("?");url.splice(1,0,"?hasFlash=true&"),url=url.join("");var msg='<p>This content requires the Flash Player. <a href="http://www.adobe.com/go/getflashplayer">Download Flash Player</a>. Already have Flash Player? <a href="'+url+'">Click here.</a></p>';this.innerHTML='<span class="alt">'+this.innerHTML+"</span>",jQuery(this).addClass("flash-update").prepend(msg)},$$.transform=function(htmlOptions){return htmlOptions.toString=toAttributeString,htmlOptions.flashvars&&(htmlOptions.flashvars.toString=toFlashvarsString),"<embed "+(htmlOptions+"")+"/>"},window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}})})(),function($){$.fn.editable=function(target,options){if("disable"==target)return $(this).data("disabled.editable",!0),void 0;if("enable"==target)return $(this).data("disabled.editable",!1),void 0;if("destroy"==target)return $(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable"),void 0;var settings=$.extend({},$.fn.editable.defaults,{target:target},options),plugin=$.editable.types[settings.type].plugin||function(){},submit=$.editable.types[settings.type].submit||function(){},buttons=$.editable.types[settings.type].buttons||$.editable.types.defaults.buttons,content=$.editable.types[settings.type].content||$.editable.types.defaults.content,element=$.editable.types[settings.type].element||$.editable.types.defaults.element,reset=$.editable.types[settings.type].reset||$.editable.types.defaults.reset,callback=settings.callback||function(){},onedit=settings.onedit||function(){},onsubmit=settings.onsubmit||function(){},onreset=settings.onreset||function(){},onerror=settings.onerror||reset;return settings.tooltip&&$(this).attr("title",settings.tooltip),settings.autowidth="auto"==settings.width,settings.autoheight="auto"==settings.height,this.each(function(){var self=this,savedwidth=$(self).width(),savedheight=$(self).height();$(this).data("event.editable",settings.event),$.trim($(this).html())||$(this).html(settings.placeholder),$(this).bind(settings.event,function(e){if(!0!==$(this).data("disabled.editable")&&!self.editing&&!1!==onedit.apply(this,[settings,self])){e.preventDefault(),e.stopPropagation(),settings.tooltip&&$(self).removeAttr("title"),0==$(self).width()?(settings.width=savedwidth,settings.height=savedheight):("none"!=settings.width&&(settings.width=settings.autowidth?$(self).width():settings.width),"none"!=settings.height&&(settings.height=settings.autoheight?$(self).height():settings.height)),$(this).html().toLowerCase().replace(/(;|")/g,"")==settings.placeholder.toLowerCase().replace(/(;|")/g,"")&&$(this).html(""),self.editing=!0,self.revert=$(self).html(),$(self).html("");var form=$("<form />");settings.cssclass&&("inherit"==settings.cssclass?form.attr("class",$(self).attr("class")):form.attr("class",settings.cssclass)),settings.style&&("inherit"==settings.style?(form.attr("style",$(self).attr("style")),form.css("display",$(self).css("display"))):form.attr("style",settings.style));var input_content,input=element.apply(form,[settings,self]);if(settings.loadurl){var t=setTimeout(function(){input.disabled=!0,content.apply(form,[settings.loadtext,settings,self])},100),loaddata={};loaddata[settings.id]=self.id,$.isFunction(settings.loaddata)?$.extend(loaddata,settings.loaddata.apply(self,[self.revert,settings])):$.extend(loaddata,settings.loaddata),$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:!1,success:function(result){window.clearTimeout(t),input_content=result,input.disabled=!1}})}else settings.data?(input_content=settings.data,$.isFunction(settings.data)&&(input_content=settings.data.apply(self,[self.revert,settings]))):input_content=self.revert;content.apply(form,[input_content,settings,self]),input.attr("name",settings.name),buttons.apply(form,[settings,self]),$(self).append(form),plugin.apply(form,[settings,self]),$(":input:visible:enabled:first",form).focus(),settings.select&&input.select(),input.keydown(function(e){27==e.keyCode&&(e.preventDefault(),reset.apply(form,[settings,self]))});var t;"cancel"==settings.onblur?input.blur(function(){t=setTimeout(function(){reset.apply(form,[settings,self])},500)}):"submit"==settings.onblur?input.blur(function(){t=setTimeout(function(){form.submit()},200)}):$.isFunction(settings.onblur)?input.blur(function(){settings.onblur.apply(self,[input.val(),settings])}):input.blur(function(){}),form.submit(function(e){if(t&&clearTimeout(t),e.preventDefault(),!1!==onsubmit.apply(form,[settings,self])&&!1!==submit.apply(form,[settings,self]))if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(str),self.editing=!1,callback.apply(self,[self.innerHTML,settings]),$.trim($(self).html())||$(self).html(settings.placeholder)}else{var submitdata={};submitdata[settings.name]=input.val(),submitdata[settings.id]=self.id,$.isFunction(settings.submitdata)?$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings])):$.extend(submitdata,settings.submitdata),"PUT"==settings.method&&(submitdata._method="put"),$(self).html(settings.indicator);var ajaxoptions={type:"POST",data:submitdata,dataType:"html",url:settings.target,success:function(result){"html"==ajaxoptions.dataType&&$(self).html(result),self.editing=!1,callback.apply(self,[result,settings]),$.trim($(self).html())||$(self).html(settings.placeholder)},error:function(xhr){onerror.apply(form,[settings,self,xhr])}};$.extend(ajaxoptions,settings.ajaxoptions),$.ajax(ajaxoptions)}return $(self).attr("title",settings.tooltip),!1})}}),this.reset=function(form){this.editing&&!1!==onreset.apply(form,[settings,self])&&($(self).html(self.revert),self.editing=!1,$.trim($(self).html())||$(self).html(settings.placeholder),settings.tooltip&&$(self).attr("title",settings.tooltip))}})},$.editable={types:{defaults:{element:function(){var input=$('<input type="hidden"></input>');return $(this).append(input),input},content:function(string){$(":input:first",this).val(string)},reset:function(settings,original){original.reset(this)},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/))var submit=$(settings.submit).click(function(){"submit"!=submit.attr("type")&&form.submit()});else{var submit=$('<button type="submit" />');submit.html(settings.submit)}$(this).append(submit)}if(settings.cancel){if(settings.cancel.match(/>$/))var cancel=$(settings.cancel);else{var cancel=$('<button type="cancel" />');cancel.html(settings.cancel)}$(this).append(cancel),$(cancel).click(function(){if($.isFunction($.editable.types[settings.type].reset))var reset=$.editable.types[settings.type].reset;else var reset=$.editable.types.defaults.reset;return reset.apply(form,[settings,original]),!1})}}},text:{element:function(settings){var input=$("<input />");return"none"!=settings.width&&input.width(settings.width),"none"!=settings.height&&input.height(settings.height),input.attr("autocomplete","off"),$(this).append(input),input}},textarea:{element:function(settings){var textarea=$("<textarea />");return settings.rows?textarea.attr("rows",settings.rows):"none"!=settings.height&&textarea.height(settings.height),settings.cols?textarea.attr("cols",settings.cols):"none"!=settings.width&&textarea.width(settings.width),$(this).append(textarea),textarea}},select:{element:function(){var select=$("<select />");return $(this).append(select),select},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){($(this).val()==json.selected||$(this).text()==$.trim(original.revert))&&$(this).attr("selected","selected")})}}},addInputType:function(name,input){$.editable.types[name]=input}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery);